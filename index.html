<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ÙƒØ±ÙŠÙ…">
    <meta name="description" content="Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ - Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŒ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø§Ù„Ø£Ø°ÙƒØ§Ø±ØŒ ÙˆØ§Ù„Ø£Ø¯Ø¹ÙŠØ©">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="ÙƒØ±ÙŠÙ… - Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„">
    <meta property="og:description" content="Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŒ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø§Ù„Ø£Ø°ÙƒØ§Ø±ØŒ Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©ØŒ Ø®ØªÙ…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØµÙ„ÙˆØ§Øª">
    <meta property="og:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23667eea'/%3E%3Cstop offset='50%25' style='stop-color:%23764ba2'/%3E%3Cstop offset='100%25' style='stop-color:%23f093fb'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1200' height='630' fill='url(%23bg)'/%3E%3Ctext x='600' y='250' font-size='180' text-anchor='middle' fill='white' font-family='Arial'%3EðŸ•Œ%3C/text%3E%3Ctext x='600' y='400' font-size='120' text-anchor='middle' fill='white' font-weight='bold' font-family='Arial'%3EÙƒØ±ÙŠÙ…%3C/text%3E%3Ctext x='600' y='500' font-size='40' text-anchor='middle' fill='white' font-family='Arial'%3EÙ…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„%3C/text%3E%3C/svg%3E">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="ÙƒØ±ÙŠÙ… - Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„">
    <meta property="twitter:description" content="Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŒ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø§Ù„Ø£Ø°ÙƒØ§Ø±ØŒ ÙˆØ§Ù„Ø£Ø¯Ø¹ÙŠØ©">
    <meta property="twitter:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23667eea'/%3E%3Cstop offset='50%25' style='stop-color:%23764ba2'/%3E%3Cstop offset='100%25' style='stop-color:%23f093fb'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1200' height='630' fill='url(%23bg)'/%3E%3Ctext x='600' y='250' font-size='180' text-anchor='middle' fill='white' font-family='Arial'%3EðŸ•Œ%3C/text%3E%3Ctext x='600' y='400' font-size='120' text-anchor='middle' fill='white' font-weight='bold' font-family='Arial'%3EÙƒØ±ÙŠÙ…%3C/text%3E%3Ctext x='600' y='500' font-size='40' text-anchor='middle' fill='white' font-family='Arial'%3EÙ…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„%3C/text%3E%3C/svg%3E">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ•Œ</text></svg>">
    
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoi2YPYsdmK2YUgLSDZhdmI2YLYudmDINin2YTYpdiz2YTYp9mF2Yog2KfZhNmF2KrZg9in2YXZhCIsInNob3J0X25hbWUiOiLZg9ix2YrZhSIsInN0YXJ0X3VybCI6Ii4vIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzY2N2VlYSIsInRoZW1lX2NvbG9yIjoiIzY2N2VlYSIsIm9yaWVudGF0aW9uIjoicG9ydHJhaXQiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJyUzRSUzQ3RleHQgeT0nLjllbScgZm9udC1zaXplPSc5MCclM0Xwn5SMJTNDL3RleHQlM0UlM0Mvc3ZnJTNFIiwidHlwZSI6ImltYWdlL3N2Zyt4bWwiLCJzaXplcyI6IjUxMng1MTIifV19">
    <title>ÙƒØ±ÙŠÙ… - Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2dd4bf;
            --primary-dark: #14b8a6;
            --secondary: #f0fdfa;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.8);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.2);
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        }

        body.light-mode {
            --primary: #14b8a6;
            --primary-dark: #0d9488;
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(20, 184, 166, 0.2);
            --text-primary: #1f2937;
            --text-secondary: #4b5563;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.12);
            --bg-gradient: linear-gradient(135deg, #e0f2fe 0%, #ddd6fe 50%, #fce7f3 100%);
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: var(--bg-gradient);
            background-attachment: fixed;
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.6;
            transition: all 0.5s ease;
        }

        /* Splash Screen */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            animation: fadeOut 0.5s ease-out 2s forwards;
        }

        .splash-screen.hidden {
            display: none;
        }

        .splash-content {
            text-align: center;
            animation: zoomIn 0.8s ease-out;
        }

        .splash-logo {
            font-size: 8em;
            margin-bottom: 20px;
            animation: bounce 1s ease-in-out infinite alternate;
        }

        .splash-title {
            font-family: 'Amiri', serif;
            font-size: 4em;
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .splash-subtitle {
            font-size: 1.3em;
            color: rgba(255,255,255,0.9);
            margin-bottom: 40px;
        }

        .splash-loader {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            margin: 0 auto;
            animation: spin 0.8s linear infinite;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes bounce {
            from {
                transform: translateY(0);
            }
            to {
                transform: translateY(-20px);
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(45, 212, 191, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo {
            font-family: 'Amiri', serif;
            font-size: 3.5em;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(45, 212, 191, 0.3);
            letter-spacing: 2px;
        }

        .tagline {
            font-size: 1.1em;
            color: var(--text-secondary);
            font-weight: 300;
        }

        .hijri-date {
            margin-top: 15px;
            font-size: 1em;
            color: var(--primary);
            font-weight: 500;
            background: rgba(45, 212, 191, 0.1);
            padding: 10px 25px;
            border-radius: 50px;
            display: inline-block;
            border: 1px solid rgba(45, 212, 191, 0.3);
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 50%;
            border: 2px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            box-shadow: var(--shadow);
        }

        .theme-toggle:hover {
            transform: scale(1.1) rotate(15deg);
            border-color: var(--primary);
            box-shadow: var(--shadow-lg);
        }

        .theme-icon {
            font-size: 1.8em;
            transition: transform 0.4s ease;
        }

        .theme-toggle:active .theme-icon {
            transform: rotate(360deg);
        }

        .manual-save-btn {
            position: fixed;
            top: 90px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 50%;
            border: 2px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            box-shadow: var(--shadow);
            font-size: 1.8em;
        }

        .manual-save-btn:hover {
            transform: scale(1.1);
            border-color: var(--primary);
            box-shadow: var(--shadow-lg);
        }

        .manual-save-btn:active {
            transform: scale(0.95);
        }

        .manual-save-btn.saving {
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Glass Card */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid var(--glass-border);
            padding: 30px;
            box-shadow: var(--shadow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeInUp 0.8s ease-out;
            position: relative;
            overflow: hidden;
            /* Performance optimization */
            will-change: transform;
            transform: translateZ(0);
        }

        /* Performance optimizations */
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .tab-content {
            /* Optimize repaints */
            contain: layout style paint;
        }

        .surah-grid, .adhkar-list, .prayer-times-grid {
            /* GPU acceleration */
            transform: translateZ(0);
            will-change: scroll-position;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            justify-content: center;
            animation: fadeIn 1s ease-out 0.3s backwards;
        }

        .tab-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            padding: 14px 28px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            font-family: 'Tajawal', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(45, 212, 191, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .tab-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .tab-btn:hover {
            border-color: var(--primary);
            transform: scale(1.05);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary);
            box-shadow: 0 8px 24px rgba(45, 212, 191, 0.4);
        }

        .tab-btn span {
            position: relative;
            z-index: 1;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeInUp 0.6s ease-out;
        }

        /* Prayer Times Section */
        .prayer-times-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .prayer-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--glass-border);
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .prayer-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s;
        }

        .prayer-card:hover::after {
            left: 100%;
        }

        .prayer-card:hover {
            transform: scale(1.05);
            border-color: var(--primary);
            box-shadow: 0 12px 40px rgba(45, 212, 191, 0.3);
        }

        .prayer-card.next-prayer {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.3) 0%, rgba(20, 184, 166, 0.2) 100%);
            border: 2px solid var(--primary);
            box-shadow: 0 12px 40px rgba(45, 212, 191, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        .prayer-name {
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: 10px;
            font-family: 'Amiri', serif;
        }

        .prayer-time {
            font-size: 2em;
            font-weight: 800;
            color: var(--primary);
            font-family: 'Tajawal', sans-serif;
            letter-spacing: 1px;
        }

        .remaining-time {
            margin-top: 10px;
            font-size: 0.9em;
            color: var(--text-secondary);
            font-weight: 300;
        }

        .location-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            font-weight: 500;
        }

        .btn-get-location {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.3);
        }

        .btn-get-location:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.5);
        }

        /* Quran Section */
        .quran-search {
            margin-bottom: 30px;
        }

        .search-input {
            width: 100%;
            padding: 18px 25px;
            border-radius: 50px;
            border: 1px solid var(--glass-border);
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            color: var(--text-primary);
            font-size: 1.1em;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(45, 212, 191, 0.2);
            background: rgba(255,255,255,0.15);
        }

        .surah-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .surah-grid::-webkit-scrollbar {
            width: 8px;
        }

        .surah-grid::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }

        .surah-grid::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }

        .surah-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .surah-card:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.3);
        }

        .surah-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .surah-name {
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 5px;
            font-family: 'Amiri', serif;
        }

        .surah-translation {
            font-size: 0.85em;
            color: var(--text-secondary);
            font-weight: 300;
        }

        .surah-info {
            margin-top: 8px;
            font-size: 0.8em;
            color: var(--text-secondary);
        }

        /* Quran Player Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.95) 0%, rgba(118, 75, 162, 0.95) 100%);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            max-width: 800px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            animation: scaleIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .modal-title {
            font-size: 2em;
            font-weight: 700;
            font-family: 'Amiri', serif;
        }

        .close-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }

        .audio-controls {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .audio-player {
            width: 100%;
            margin-bottom: 15px;
        }

        .reciter-select {
            width: 100%;
            padding: 12px 20px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1em;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
        }

        .reciter-select option {
            background: #764ba2;
            color: white;
        }

        .ayat-container {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 16px;
            line-height: 2.2;
        }

        .ayah {
            font-family: 'Amiri', serif;
            font-size: 1.8em;
            margin-bottom: 15px;
            text-align: justify;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            border-right: 3px solid var(--primary);
            transition: all 0.3s ease;
        }

        .ayah:hover {
            background: rgba(255,255,255,0.1);
            transform: translateX(-5px);
        }

        .ayah-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-size: 0.6em;
            margin-left: 10px;
            font-family: 'Tajawal', sans-serif;
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2em;
        }

        /* Adhkar Section */
        .adhkar-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .adhkar-category-btn {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            padding: 20px;
            border-radius: 16px;
            cursor: pointer;
            font-size: 1.1em;
            font-family: 'Tajawal', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
        }

        .adhkar-category-btn:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.3);
        }

        .adhkar-category-btn.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary);
        }

        .adhkar-list {
            display: none;
        }

        .adhkar-list.active {
            display: block;
        }

        .dhikr-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(15px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .dhikr-card:hover {
            background: rgba(255,255,255,0.12);
            transform: translateX(-5px);
            border-color: var(--primary);
        }

        .dhikr-text {
            font-family: 'Amiri', serif;
            font-size: 1.6em;
            line-height: 2;
            margin-bottom: 15px;
            text-align: justify;
        }

        .dhikr-translation {
            font-size: 1em;
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-style: italic;
        }

        .dhikr-counter-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
        }

        .dhikr-count-btn {
            flex: 1;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.3);
        }

        .dhikr-count-btn:active {
            transform: scale(0.95);
        }

        .dhikr-count-btn:hover {
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.5);
        }

        .dhikr-progress {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .count-text {
            font-weight: 700;
            font-size: 1.1em;
        }

        /* Qibla Section */
        .qibla-container {
            text-align: center;
        }

        .compass {
            width: 300px;
            height: 300px;
            margin: 30px auto;
            position: relative;
            background: rgba(255,255,255,0.05);
            border-radius: 50%;
            border: 3px solid var(--glass-border);
            box-shadow: 0 0 40px rgba(45, 212, 191, 0.2);
        }

        .compass-inner {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .compass-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 120px solid var(--primary);
            transform: translate(-50%, -50%);
            filter: drop-shadow(0 0 10px var(--primary));
        }

        .compass-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        .compass-direction {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2em;
            font-weight: 700;
            color: var(--primary);
        }

        .qibla-info {
            background: rgba(255,255,255,0.08);
            padding: 25px;
            border-radius: 16px;
            margin-top: 30px;
        }

        .qibla-degree {
            font-size: 2.5em;
            font-weight: 800;
            color: var(--primary);
            margin: 15px 0;
        }

        /* Tasbih Section */
        .tasbih-container {
            text-align: center;
            padding: 40px 20px;
        }

        .tasbih-counter {
            width: 250px;
            height: 250px;
            margin: 30px auto;
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.2) 0%, rgba(20, 184, 166, 0.1) 100%);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 4px solid var(--primary);
            box-shadow: 0 0 50px rgba(45, 212, 191, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tasbih-counter::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }

        .tasbih-counter:active {
            transform: scale(0.95);
        }

        .tasbih-count {
            font-size: 5em;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
            position: relative;
            z-index: 1;
        }

        .tasbih-label {
            font-size: 1em;
            color: var(--text-secondary);
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }

        .tasbih-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .tasbih-btn {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 15px 35px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
        }

        .tasbih-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.3);
        }

        .tasbih-presets {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .preset-btn {
            background: rgba(255,255,255,0.08);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Amiri', serif;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .preset-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
        }

        .preset-btn.active-preset {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary);
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.4);
            transform: scale(1.05);
        }

        /* Prayer Tracker Styles */
        .tracker-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.3);
        }

        .stat-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.95em;
            color: var(--text-secondary);
        }

        .prayer-tracker-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .tracker-prayer-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding: 20px 25px;
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .tracker-prayer-card:hover {
            background: rgba(255,255,255,0.12);
            transform: translateX(-5px);
            border-color: var(--primary);
        }

        .tracker-prayer-card.completed {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.2) 0%, rgba(20, 184, 166, 0.1) 100%);
            border-color: var(--primary);
        }

        .tracker-prayer-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .tracker-prayer-name {
            font-size: 1.3em;
            font-weight: 700;
            font-family: 'Amiri', serif;
        }

        .tracker-prayer-time {
            font-size: 1em;
            color: var(--text-secondary);
        }

        .tracker-checkbox {
            position: relative;
            cursor: pointer;
            user-select: none;
        }

        .tracker-checkbox input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .checkmark {
            display: block;
            width: 35px;
            height: 35px;
            background: rgba(255,255,255,0.1);
            border: 2px solid var(--glass-border);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .tracker-checkbox:hover .checkmark {
            background: rgba(255,255,255,0.15);
            border-color: var(--primary);
        }

        .tracker-checkbox input:checked ~ .checkmark {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary);
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: 11px;
            top: 6px;
            width: 8px;
            height: 14px;
            border: solid white;
            border-width: 0 3px 3px 0;
            transform: rotate(45deg);
        }

        .tracker-checkbox input:checked ~ .checkmark:after {
            display: block;
        }

        .weekly-progress {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 20px;
            margin-top: 30px;
        }

        .week-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .day-card {
            background: rgba(255,255,255,0.08);
            padding: 15px 10px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .day-card:hover {
            transform: scale(1.05);
        }

        .day-name {
            font-size: 0.85em;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .day-date {
            font-size: 0.75em;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .day-count {
            font-size: 1.8em;
            font-weight: 800;
            color: var(--primary);
        }

        .day-card.full-day {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.3) 0%, rgba(20, 184, 166, 0.2) 100%);
            border-color: var(--primary);
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.3);
        }

        .day-card.full-day .day-count {
            color: white;
        }

        /* Khatmah Styles */
        .khatmah-progress-header {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .khatmah-stat {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            text-align: center;
            transition: all 0.3s ease;
        }

        .khatmah-stat:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .khatmah-stat-number {
            font-size: 2.2em;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .khatmah-stat-label {
            font-size: 0.95em;
            color: var(--text-secondary);
        }

        .progress-bar-large {
            height: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 50px;
            overflow: hidden;
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
        }

        .progress-fill-large {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 50px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: 700;
            box-shadow: 0 0 20px rgba(45, 212, 191, 0.5);
        }

        .khatmah-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .khatmah-btn {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            padding: 15px 35px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
        }

        .khatmah-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .khatmah-btn.primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary);
            color: white;
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.3);
        }

        .khatmah-btn.primary:hover {
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.5);
        }

        .khatmah-surahs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .khatmah-surah-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid var(--glass-border);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .khatmah-surah-card:hover {
            background: rgba(255,255,255,0.12);
            transform: scale(1.05);
        }

        .khatmah-surah-card.completed {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.3) 0%, rgba(20, 184, 166, 0.2) 100%);
            border-color: var(--primary);
        }

        .khatmah-surah-card.completed::before {
            content: "âœ“";
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--primary);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9em;
        }

        .khatmah-surah-name {
            font-size: 1.1em;
            font-weight: 700;
            margin-bottom: 5px;
            font-family: 'Amiri', serif;
        }

        .khatmah-surah-info {
            font-size: 0.8em;
            color: var(--text-secondary);
        }

        /* Duaa Styles */
        .duaa-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .duaa-category-btn {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            padding: 18px;
            border-radius: 16px;
            cursor: pointer;
            font-size: 1em;
            font-family: 'Tajawal', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
        }

        .duaa-category-btn:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-3px);
            border-color: var(--primary);
        }

        .duaa-category-btn.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-color: var(--primary);
            color: white;
        }

        .duaa-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .duaa-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(15px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .duaa-card:hover {
            background: rgba(255,255,255,0.12);
            transform: translateX(-5px);
            border-color: var(--primary);
        }

        .duaa-title {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary);
            font-family: 'Amiri', serif;
        }

        .duaa-text {
            font-family: 'Amiri', serif;
            font-size: 1.6em;
            line-height: 2.2;
            margin-bottom: 15px;
            text-align: justify;
        }

        .duaa-translation {
            font-size: 1em;
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-style: italic;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            border-right: 3px solid var(--primary);
        }

        .duaa-source {
            font-size: 0.9em;
            color: var(--text-secondary);
            text-align: left;
        }

        .duaa-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .duaa-action-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.9em;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
        }

        .duaa-action-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        /* Allah's 99 Names Styles */
        .names-counter {
            text-align: center;
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.2) 0%, rgba(20, 184, 166, 0.1) 100%);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            border: 2px solid var(--primary);
        }

        .names-progress {
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 5px;
            margin-bottom: 10px;
        }

        .names-count {
            font-size: 4em;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
        }

        .names-total {
            font-size: 2em;
            font-weight: 700;
            color: var(--text-secondary);
        }

        .names-label {
            font-size: 1.2em;
            color: var(--text-secondary);
        }

        .names-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .name-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding: 20px 15px;
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .name-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(45, 212, 191, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s;
        }

        .name-card:hover::before {
            left: 100%;
        }

        .name-card:hover {
            transform: scale(1.05);
            border-color: var(--primary);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.3);
        }

        .name-card.memorized {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.3) 0%, rgba(20, 184, 166, 0.2) 100%);
            border-color: var(--primary);
        }

        .name-card.memorized::after {
            content: "âœ“";
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--primary);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: 700;
        }

        .name-arabic {
            font-family: 'Amiri', serif;
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .name-translation {
            font-size: 0.85em;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Mobile Optimizations */
        .container {
            padding: 15px;
        }

        .nav-tabs {
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding-bottom: 10px;
        }

        .nav-tabs::-webkit-scrollbar {
            display: none;
        }

        .tab-btn {
            flex-shrink: 0;
            white-space: nowrap;
        }

        /* Touch-friendly sizes */
        @media (max-width: 768px) {
            .tab-btn {
                padding: 10px 16px;
                font-size: 0.85em;
            }

            .glass-card {
                padding: 20px 15px;
            }

            .names-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 10px;
            }

            .name-card {
                padding: 15px 10px;
            }

            .name-arabic {
                font-size: 1.3em;
            }

            /* Larger touch targets */
            .tracker-checkbox .checkmark {
                width: 40px;
                height: 40px;
            }

            .dhikr-count-btn {
                padding: 18px;
                font-size: 1.2em;
            }

            .khatmah-surah-card {
                padding: 12px;
            }

            /* Better spacing for mobile */
            .header {
                margin-bottom: 25px;
            }

            .logo {
                font-size: 2.2em;
            }

            .tagline {
                font-size: 0.95em;
            }

            .hijri-date {
                font-size: 0.8em;
                padding: 8px 15px;
            }

            /* Scrollable tabs indicator */
            .nav-tabs::after {
                content: 'â†’';
                position: sticky;
                right: 0;
                background: linear-gradient(to right, transparent, var(--bg-gradient));
                padding: 0 15px;
                pointer-events: none;
            }
        }

        /* Swipe gestures hint */
        .swipe-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 0.85em;
            z-index: 1000;
            animation: fadeOut 3s ease-out 2s forwards;
            pointer-events: none;
        }

        /* Statistics Styles */
        .overall-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-mega-card {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.2) 0%, rgba(20, 184, 166, 0.1) 100%);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            border: 2px solid var(--primary);
            box-shadow: 0 8px 32px rgba(45, 212, 191, 0.3);
        }

        .stat-mega-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .stat-mega-value {
            font-size: 3.5em;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
            margin-bottom: 10px;
        }

        .stat-mega-label {
            font-size: 1.1em;
            color: var(--text-secondary);
        }

        .stats-charts {
            display: grid;
            gap: 25px;
        }

        .chart-container {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
        }

        .chart-container h3 {
            margin-bottom: 20px;
            font-family: 'Amiri', serif;
            font-size: 1.4em;
        }

        .stats-breakdown {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
        }

        .stats-breakdown h3 {
            margin-bottom: 20px;
            font-family: 'Amiri', serif;
            font-size: 1.4em;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .breakdown-item span {
            color: var(--text-secondary);
        }

        .breakdown-item strong {
            color: var(--primary);
            font-size: 1.2em;
        }

        /* Achievements Styles */
        .achievements-summary {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.15) 0%, rgba(20, 184, 166, 0.1) 100%);
            border-radius: 20px;
        }

        .achievement-count {
            text-align: center;
        }

        .big-number {
            font-size: 4em;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
        }

        .small-text {
            font-size: 1.2em;
            color: var(--text-secondary);
        }

        .achievement-progress-ring {
            position: relative;
        }

        .ring-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5em;
            font-weight: 700;
            color: var(--primary);
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .achievement-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .achievement-card.unlocked {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.25) 0%, rgba(20, 184, 166, 0.15) 100%);
            border-color: var(--primary);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.3);
        }

        .achievement-card.locked {
            opacity: 0.5;
            filter: grayscale(100%);
        }

        .achievement-icon {
            font-size: 3em;
            text-align: center;
            margin-bottom: 15px;
        }

        .achievement-name {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 10px;
            text-align: center;
            font-family: 'Amiri', serif;
        }

        .achievement-desc {
            font-size: 0.9em;
            color: var(--text-secondary);
            text-align: center;
            line-height: 1.6;
        }

        .achievement-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2em;
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.5);
        }

        .achievement-locked-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5em;
            opacity: 0.3;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 12px 40px rgba(45, 212, 191, 0.4);
            }
            50% {
                box-shadow: 0 12px 60px rgba(45, 212, 191, 0.6);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .logo {
                font-size: 2.5em;
            }

            .tab-btn {
                padding: 12px 20px;
                font-size: 0.9em;
            }

            .prayer-times-grid {
                grid-template-columns: 1fr;
            }

            .tracker-stats {
                grid-template-columns: 1fr;
            }

            .week-grid {
                grid-template-columns: repeat(7, 1fr);
                gap: 5px;
            }

            .day-card {
                padding: 10px 5px;
            }

            .day-name {
                font-size: 0.7em;
            }

            .day-date {
                font-size: 0.65em;
            }

            .day-count {
                font-size: 1.3em;
            }

            .surah-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                max-height: 400px;
            }

            .modal-content {
                padding: 25px;
                width: 95%;
            }

            .ayah {
                font-size: 1.4em;
            }

            .compass {
                width: 250px;
                height: 250px;
            }

            .tasbih-counter {
                width: 200px;
                height: 200px;
            }

            .tasbih-count {
                font-size: 4em;
            }

            .hijri-date {
                font-size: 0.85em;
                padding: 8px 18px;
            }

            .taqwa-meter {
                margin-bottom: 20px;
            }

            .taqwa-score {
                font-size: 1.2em;
            }
        }

        /* Taqwa Meter Styles */
        .taqwa-meter {
            background: linear-gradient(135deg, rgba(45, 212, 191, 0.15) 0%, rgba(20, 184, 166, 0.1) 100%);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(45, 212, 191, 0.3);
        }

        .taqwa-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .taqwa-score {
            font-size: 1.5em;
            color: var(--primary);
            font-weight: 800;
        }

        .taqwa-bar {
            height: 12px;
            background: rgba(255,255,255,0.2);
            border-radius: 50px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .taqwa-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, var(--primary) 50%, #3b82f6 100%);
            border-radius: 50px;
            transition: width 0.5s ease;
            box-shadow: 0 0 15px rgba(45, 212, 191, 0.6);
        }

        .taqwa-tips {
            font-size: 0.9em;
            color: var(--text-secondary);
            text-align: center;
            font-style: italic;
        }

        .islamic-pattern {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.03;
            pointer-events: none;
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.05) 35px, rgba(255,255,255,.05) 70px),
                repeating-linear-gradient(-45deg, transparent, transparent 35px, rgba(255,255,255,.05) 35px, rgba(255,255,255,.05) 70px);
            z-index: 0;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(45, 212, 191, 0.4);
            z-index: 2000;
            animation: slideInRight 0.5s ease-out;
            display: none;
            max-width: 350px;
        }

        .notification.show {
            display: block;
        }

        /* Welcome Modal */
        .welcome-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
        }

        .welcome-modal.show {
            display: flex;
        }

        .welcome-content {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.95) 0%, rgba(118, 75, 162, 0.95) 100%);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 50px;
            max-width: 500px;
            width: 90%;
            border: 2px solid var(--primary);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            text-align: center;
            animation: scaleIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .welcome-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .welcome-title {
            font-family: 'Amiri', serif;
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .welcome-text {
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 30px;
            color: var(--text-secondary);
        }

        .welcome-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: 700;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.4);
        }

        .welcome-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(45, 212, 191, 0.6);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .offline-badge {
            display: inline-block;
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-right: 10px;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        /* Help Modal */
        .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
            padding: 20px;
        }

        .help-modal.active {
            display: flex;
        }

        .help-content {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.95) 0%, rgba(118, 75, 162, 0.95) 100%);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            animation: scaleIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .help-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .help-title {
            font-size: 1.8em;
            font-weight: 700;
            font-family: 'Amiri', serif;
        }

        .help-section {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
        }

        .help-section h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: var(--primary);
            font-family: 'Amiri', serif;
        }

        .help-steps {
            list-style: none;
            padding: 0;
        }

        .help-steps li {
            padding: 12px 0;
            padding-right: 30px;
            position: relative;
            line-height: 1.8;
        }

        .help-steps li:before {
            content: "âœ“";
            position: absolute;
            right: 0;
            color: var(--primary);
            font-weight: bold;
            font-size: 1.2em;
        }

        .manual-location {
            background: rgba(45, 212, 191, 0.2);
            border: 2px dashed var(--primary);
            padding: 20px;
            border-radius: 16px;
            margin-top: 20px;
        }

        .location-input {
            width: 100%;
            padding: 12px 20px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1em;
            font-family: 'Tajawal', sans-serif;
            margin: 10px 0;
        }

        .location-input::placeholder {
            color: rgba(255,255,255,0.6);
        }

        .btn-manual-location {
            width: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            font-family: 'Tajawal', sans-serif;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .btn-manual-location:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.5);
        }

        .browser-icons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .browser-icon {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            flex: 1;
            min-width: 120px;
        }

        .browser-icon span {
            display: block;
            font-size: 2em;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="islamic-pattern"></div>
    <div class="notification" id="notification"></div>
    
    <!-- Splash Screen / Logo -->
    <div class="splash-screen" id="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">ðŸ•Œ</div>
            <h1 class="splash-title">ÙƒØ±ÙŠÙ…</h1>
            <p class="splash-subtitle">Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</p>
            <div class="splash-loader"></div>
        </div>
    </div>
    
    <!-- Help Modal -->
    <div class="help-modal" id="help-modal">
        <div class="help-content">
            <div class="help-header">
                <div>
                    <h2 class="help-title">ðŸ“ ÙƒÙŠÙÙŠØ© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹</h2>
                </div>
                <button class="close-btn" onclick="closeHelpModal()">Ã—</button>
            </div>

            <div class="help-section">
                <h3>ðŸŒ Chrome / Edge</h3>
                <ul class="help-steps">
                    <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù‚ÙÙ„ ðŸ”’ Ø¨Ø¬Ø§Ù†Ø¨ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹</li>
                    <li>Ø§Ø¨Ø­Ø« Ø¹Ù† "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ" Ø£Ùˆ "Location"</li>
                    <li>Ø§Ø®ØªØ± "Ø§Ù„Ø³Ù…Ø§Ø­" Ø£Ùˆ "Allow"</li>
                    <li>Ø£Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© (F5)</li>
                </ul>
            </div>

            <div class="help-section">
                <h3>ðŸ§­ Safari (iPhone/iPad)</h3>
                <ul class="help-steps">
                    <li>Ø§ÙØªØ­ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª â†’ Safari</li>
                    <li>Ø§Ø®ØªØ± "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ" Ø£Ùˆ "Location"</li>
                    <li>ÙØ¹Ù‘Ù„ "Ø£Ø«Ù†Ø§Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"</li>
                    <li>Ø§Ø±Ø¬Ø¹ Ù„Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ø¶ØºØ· "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆÙ‚Ø¹"</li>
                </ul>
            </div>

            <div class="help-section">
                <h3>ðŸ¦Š Firefox</h3>
                <ul class="help-steps">
                    <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</li>
                    <li>Ø§Ø¨Ø­Ø« Ø¹Ù† "Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª" â†’ "Ø§Ù„Ù…ÙˆÙ‚Ø¹"</li>
                    <li>Ø§Ø®ØªØ± "Ø§Ù„Ø³Ù…Ø§Ø­"</li>
                    <li>Ø£Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©</li>
                </ul>
            </div>

            <div class="manual-location">
                <h3 style="color: white; margin-bottom: 15px;">ðŸ™ï¸ Ø§Ø®ØªØ± Ù…Ø¯ÙŠÙ†ØªÙƒ</h3>
                <select class="location-input" id="city-select" onchange="selectCity()" style="cursor: pointer;">
                    <option value="">-- Ø§Ø®ØªØ± Ù…Ø¯ÙŠÙ†Ø© --</option>
                    <optgroup label="ðŸ‡ªðŸ‡¬ Ù…ØµØ±">
                        <option value="30.0444,31.2357">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</option>
                        <option value="31.2001,29.9187">Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option>
                        <option value="26.8206,30.8025">Ø£Ø³ÙŠÙˆØ·</option>
                        <option value="30.5965,31.5084">Ø§Ù„Ø²Ù‚Ø§Ø²ÙŠÙ‚</option>
                        <option value="31.0409,31.3785">Ø§Ù„Ù…Ù†ØµÙˆØ±Ø©</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¸ðŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©">
                        <option value="21.4225,39.8262">Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©</option>
                        <option value="24.5247,39.5692">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©</option>
                        <option value="24.7136,46.6753">Ø§Ù„Ø±ÙŠØ§Ø¶</option>
                        <option value="21.3891,39.8579">Ø¬Ø¯Ø©</option>
                        <option value="26.4207,50.0888">Ø§Ù„Ø¯Ù…Ø§Ù…</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¦ðŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª">
                        <option value="25.2048,55.2708">Ø¯Ø¨ÙŠ</option>
                        <option value="24.4539,54.3773">Ø£Ø¨Ùˆ Ø¸Ø¨ÙŠ</option>
                        <option value="25.3463,55.4209">Ø§Ù„Ø´Ø§Ø±Ù‚Ø©</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¯ðŸ‡´ Ø§Ù„Ø£Ø±Ø¯Ù†">
                        <option value="31.9454,35.9284">Ø¹Ù…Ù‘Ø§Ù†</option>
                        <option value="32.5556,35.8469">Ø¥Ø±Ø¨Ø¯</option>
                    </optgroup>
                    <optgroup label="ðŸ‡±ðŸ‡§ Ù„Ø¨Ù†Ø§Ù†">
                        <option value="33.8938,35.5018">Ø¨ÙŠØ±ÙˆØª</option>
                    </optgroup>
                    <optgroup label="ðŸ‡°ðŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª">
                        <option value="29.3759,47.9774">Ø§Ù„ÙƒÙˆÙŠØª</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¶ðŸ‡¦ Ù‚Ø·Ø±">
                        <option value="25.2854,51.5310">Ø§Ù„Ø¯ÙˆØ­Ø©</option>
                    </optgroup>
                    <optgroup label="ðŸ‡§ðŸ‡­ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†">
                        <option value="26.0667,50.5577">Ø§Ù„Ù…Ù†Ø§Ù…Ø©</option>
                    </optgroup>
                    <optgroup label="ðŸ‡´ðŸ‡² Ø¹Ù…Ø§Ù†">
                        <option value="23.5880,58.3829">Ù…Ø³Ù‚Ø·</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¾ðŸ‡ª Ø§Ù„ÙŠÙ…Ù†">
                        <option value="15.5527,48.5164">ØµÙ†Ø¹Ø§Ø¡</option>
                        <option value="12.7855,45.0187">Ø¹Ø¯Ù†</option>
                    </optgroup>
                    <optgroup label="ðŸ‡®ðŸ‡¶ Ø§Ù„Ø¹Ø±Ø§Ù‚">
                        <option value="33.3152,44.3661">Ø¨ØºØ¯Ø§Ø¯</option>
                        <option value="36.3400,43.1300">Ø§Ù„Ù…ÙˆØµÙ„</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¸ðŸ‡¾ Ø³ÙˆØ±ÙŠØ§">
                        <option value="33.5138,36.2765">Ø¯Ù…Ø´Ù‚</option>
                        <option value="36.2021,37.1343">Ø­Ù„Ø¨</option>
                    </optgroup>
                    <optgroup label="ðŸ‡µðŸ‡¸ ÙÙ„Ø³Ø·ÙŠÙ†">
                        <option value="31.9522,35.2332">Ø§Ù„Ù‚Ø¯Ø³</option>
                        <option value="31.5017,34.4668">ØºØ²Ø©</option>
                    </optgroup>
                    <optgroup label="ðŸ‡²ðŸ‡¦ Ø§Ù„Ù…ØºØ±Ø¨">
                        <option value="33.5731,7.5898">Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡</option>
                        <option value="34.0209,6.8416">Ø§Ù„Ø±Ø¨Ø§Ø·</option>
                    </optgroup>
                    <optgroup label="ðŸ‡©ðŸ‡¿ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">
                        <option value="36.7538,3.0588">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                        <option value="36.1907,5.4041">Ø¨Ø¬Ø§ÙŠØ©</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¹ðŸ‡³ ØªÙˆÙ†Ø³">
                        <option value="36.8065,10.1815">ØªÙˆÙ†Ø³</option>
                    </optgroup>
                    <optgroup label="ðŸ‡±ðŸ‡¾ Ù„ÙŠØ¨ÙŠØ§">
                        <option value="32.8872,13.1913">Ø·Ø±Ø§Ø¨Ù„Ø³</option>
                        <option value="32.1192,20.0685">Ø¨Ù†ØºØ§Ø²ÙŠ</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¸ðŸ‡© Ø§Ù„Ø³ÙˆØ¯Ø§Ù†">
                        <option value="15.5007,32.5599">Ø§Ù„Ø®Ø±Ø·ÙˆÙ…</option>
                    </optgroup>
                    <optgroup label="ðŸ‡¹ðŸ‡· ØªØ±ÙƒÙŠØ§">
                        <option value="41.0082,28.9784">Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„</option>
                        <option value="39.9334,32.8597">Ø£Ù†Ù‚Ø±Ø©</option>
                    </optgroup>
                </select>
                
                <div style="margin: 20px 0; text-align: center; color: rgba(255,255,255,0.6);">Ø£Ùˆ</div>
                
                <h3 style="color: white; margin-bottom: 15px;">ðŸ“ Ø£Ø¯Ø®Ù„ Ù…ÙˆÙ‚Ø¹Ùƒ ÙŠØ¯ÙˆÙŠØ§Ù‹</h3>
                <p style="font-size: 0.9em; color: rgba(255,255,255,0.8); margin-bottom: 15px;">
                    ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§ØªÙƒ Ù…Ù† <a href="https://www.latlong.net/" target="_blank" style="color: var(--primary); text-decoration: underline;">Ù‡Ù†Ø§</a>
                </p>
                <input type="number" step="0.0001" class="location-input" id="manual-lat" placeholder="Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ (Ù…Ø«Ø§Ù„: 31.2001)">
                <input type="number" step="0.0001" class="location-input" id="manual-lng" placeholder="Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ (Ù…Ø«Ø§Ù„: 29.9187)">
                <button class="btn-manual-location" onclick="useManualLocation()">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
            </div>

            <div style="margin-top: 30px; text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px;">
                <p style="font-size: 0.95em; line-height: 1.8;">
                    ðŸ’¡ <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ù†Ø­Ù† Ù„Ø§ Ù†Ø­ÙØ¸ Ø£Ùˆ Ù†Ø´Ø§Ø±Ùƒ Ù…ÙˆÙ‚Ø¹Ùƒ Ù…Ø¹ Ø£ÙŠ Ø¬Ù‡Ø©.<br>
                    Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠÙØ³ØªØ®Ø¯Ù… ÙÙ‚Ø· Ù„Ø­Ø³Ø§Ø¨ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©.
                </p>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header class="header">
            <div class="theme-toggle" onclick="toggleTheme()" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ/Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ">
                <span class="theme-icon">ðŸŒ™</span>
            </div>
            <div class="manual-save-btn" onclick="manualSaveAll()" title="Ø­ÙØ¸ ÙŠØ¯ÙˆÙŠ - Ø§Ø¶ØºØ· Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø­ÙØ¸ ÙƒÙ„ Ø´ÙŠØ¡">
                ðŸ’¾
            </div>
            <h1 class="logo">ÙƒØ±ÙŠÙ…</h1>
            <p class="tagline">Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ â€¢ Ø§Ù„Ù‚Ø±Ø¢Ù† â€¢ Ø§Ù„Ø£Ø°ÙƒØ§Ø± â€¢ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</p>
            <div class="hijri-date" id="hijri-date">ðŸ“… Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ...</div>
        </header>

        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="prayer"><span>â° Ø§Ù„ØµÙ„Ø§Ø©</span></button>
            <button class="tab-btn" data-tab="tracker"><span>ðŸ“Š Ù…ØªØ§Ø¨Ø¹Ø©</span></button>
            <button class="tab-btn" data-tab="stats"><span>ðŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</span></button>
            <button class="tab-btn" data-tab="achievements"><span>ðŸ† Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</span></button>
            <button class="tab-btn" data-tab="quran"><span>ðŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù†</span></button>
            <button class="tab-btn" data-tab="khatmah"><span>ðŸ“— Ø®ØªÙ…Ø©</span></button>
            <button class="tab-btn" data-tab="names"><span>âœ¨ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡</span></button>
            <button class="tab-btn" data-tab="duaa"><span>ðŸ¤² Ø£Ø¯Ø¹ÙŠØ©</span></button>
            <button class="tab-btn" data-tab="adhkar"><span>ðŸ’Ž Ø£Ø°ÙƒØ§Ø±</span></button>
            <button class="tab-btn" data-tab="qibla"><span>ðŸ§­ Ù‚Ø¨Ù„Ø©</span></button>
            <button class="tab-btn" data-tab="tasbih"><span>ðŸ“¿ ØªØ³Ø¨ÙŠØ­</span></button>
        </nav>

        <!-- Prayer Times Tab -->
        <div class="tab-content active" id="prayer">
            <div class="glass-card">
                <!-- Daily Taqwa Meter -->
                <div class="taqwa-meter">
                    <div class="taqwa-header">
                        <span>â­ Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙ‚ÙˆÙ‰ Ø§Ù„ÙŠÙˆÙ…ÙŠ</span>
                        <span class="taqwa-score" id="taqwa-score">0%</span>
                    </div>
                    <div class="taqwa-bar">
                        <div class="taqwa-fill" id="taqwa-fill"></div>
                    </div>
                    <div class="taqwa-tips" id="taqwa-tips">Ø§Ø¨Ø¯Ø£ ÙŠÙˆÙ…Ùƒ Ø¨Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠ ÙˆÙ‚ØªÙ‡Ø§!</div>
                </div>

                <div class="location-info">
                    <span id="location-text">ðŸ“ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ...</span>
                    <button class="btn-get-location" onclick="getPrayerTimes()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
                </div>
                <div class="prayer-times-grid" id="prayer-times-grid">
                    <!-- Prayer times will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Prayer Tracker Tab -->
        <div class="tab-content" id="tracker">
            <div class="glass-card">
                <h2 style="text-align: center; margin-bottom: 30px; font-family: 'Amiri', serif; font-size: 2em;">ðŸ“Š Ù…ØªØ§Ø¨Ø¹Ø© ØµÙ„ÙˆØ§ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>
                
                <div class="tracker-stats">
                    <div class="stat-card">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-number" id="prayed-count">0</div>
                        <div class="stat-label">ØµÙ„ÙˆØ§Øª Ù…Ø¤Ø¯Ø§Ø©</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">â³</div>
                        <div class="stat-number" id="remaining-count">5</div>
                        <div class="stat-label">ØµÙ„ÙˆØ§Øª Ù…ØªØ¨Ù‚ÙŠØ©</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ“ˆ</div>
                        <div class="stat-number" id="streak-count">0</div>
                        <div class="stat-label">Ø£ÙŠØ§Ù… Ù…ØªÙˆØ§ØµÙ„Ø©</div>
                    </div>
                </div>

                <div class="prayer-tracker-list">
                    <div class="tracker-prayer-card" data-prayer="fajr">
                        <div class="tracker-prayer-info">
                            <div class="tracker-prayer-name">ðŸŒ… Ø§Ù„ÙØ¬Ø±</div>
                            <div class="tracker-prayer-time" id="tracker-fajr-time">--:--</div>
                        </div>
                        <label class="tracker-checkbox">
                            <input type="checkbox" id="check-fajr">
                            <span class="checkmark"></span>
                        </label>
                    </div>

                    <div class="tracker-prayer-card" data-prayer="dhuhr">
                        <div class="tracker-prayer-info">
                            <div class="tracker-prayer-name">â˜€ï¸ Ø§Ù„Ø¸Ù‡Ø±</div>
                            <div class="tracker-prayer-time" id="tracker-dhuhr-time">--:--</div>
                        </div>
                        <label class="tracker-checkbox">
                            <input type="checkbox" id="check-dhuhr">
                            <span class="checkmark"></span>
                        </label>
                    </div>

                    <div class="tracker-prayer-card" data-prayer="asr">
                        <div class="tracker-prayer-info">
                            <div class="tracker-prayer-name">ðŸŒ¤ï¸ Ø§Ù„Ø¹ØµØ±</div>
                            <div class="tracker-prayer-time" id="tracker-asr-time">--:--</div>
                        </div>
                        <label class="tracker-checkbox">
                            <input type="checkbox" id="check-asr">
                            <span class="checkmark"></span>
                        </label>
                    </div>

                    <div class="tracker-prayer-card" data-prayer="maghrib">
                        <div class="tracker-prayer-info">
                            <div class="tracker-prayer-name">ðŸŒ† Ø§Ù„Ù…ØºØ±Ø¨</div>
                            <div class="tracker-prayer-time" id="tracker-maghrib-time">--:--</div>
                        </div>
                        <label class="tracker-checkbox">
                            <input type="checkbox" id="check-maghrib">
                            <span class="checkmark"></span>
                        </label>
                    </div>

                    <div class="tracker-prayer-card" data-prayer="isha">
                        <div class="tracker-prayer-info">
                            <div class="tracker-prayer-name">ðŸŒ™ Ø§Ù„Ø¹Ø´Ø§Ø¡</div>
                            <div class="tracker-prayer-time" id="tracker-isha-time">--:--</div>
                        </div>
                        <label class="tracker-checkbox">
                            <input type="checkbox" id="check-isha">
                            <span class="checkmark"></span>
                        </label>
                    </div>
                </div>

                <div class="weekly-progress">
                    <h3 style="text-align: center; margin: 30px 0 20px; font-family: 'Amiri', serif;">ðŸ“… Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…</h3>
                    <div class="week-grid" id="week-grid">
                        <!-- Week grid will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics Tab -->
        <div class="tab-content" id="stats">
            <div class="glass-card">
                <h2 style="text-align: center; margin-bottom: 30px; font-family: 'Amiri', serif; font-size: 2em;">ðŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ Ø§Ù„Ø´Ø§Ù…Ù„Ø©</h2>
                
                <!-- Overall Stats -->
                <div class="overall-stats">
                    <div class="stat-mega-card">
                        <div class="stat-mega-icon">ðŸ”¥</div>
                        <div class="stat-mega-value" id="total-streak">0</div>
                        <div class="stat-mega-label">Ø£ÙŠØ§Ù… Ù…ØªÙˆØ§ØµÙ„Ø©</div>
                    </div>
                    <div class="stat-mega-card">
                        <div class="stat-mega-icon">â­</div>
                        <div class="stat-mega-value" id="total-points">0</div>
                        <div class="stat-mega-label">Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ‚ÙˆÙ‰</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="stats-charts">
                    <div class="chart-container">
                        <h3>ðŸ“Š Ø§Ù„ØµÙ„ÙˆØ§Øª Ø¢Ø®Ø± 30 ÙŠÙˆÙ…</h3>
                        <canvas id="prayer-chart" width="400" height="200"></canvas>
                    </div>
                    
                    <div class="stats-breakdown">
                        <h3>ðŸ“‹ Ù…Ù„Ø®Øµ Ø´Ø§Ù…Ù„</h3>
                        <div class="breakdown-item">
                            <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…Ø¤Ø¯Ø§Ø©</span>
                            <strong id="total-prayers">0</strong>
                        </div>
                        <div class="breakdown-item">
                            <span>Ù†Ø³Ø¨Ø© Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„ØµÙ„Ø§Ø©</span>
                            <strong id="prayer-percentage">0%</strong>
                        </div>
                        <div class="breakdown-item">
                            <span>Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø©</span>
                            <strong id="total-surahs">0/114</strong>
                        </div>
                        <div class="breakdown-item">
                            <span>Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</span>
                            <strong id="total-names-stat">0/99</strong>
                        </div>
                        <div class="breakdown-item">
                            <span>Ø£ÙŠØ§Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
                            <strong id="days-active">0</strong>
                        </div>
                        <div class="breakdown-item">
                            <span>Ø£ÙØ¶Ù„ ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</span>
                            <strong id="best-day">-</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Achievements Tab -->
        <div class="tab-content" id="achievements">
            <div class="glass-card">
                <h2 style="text-align: center; margin-bottom: 30px; font-family: 'Amiri', serif; font-size: 2em;">ðŸ† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª ÙˆØ§Ù„Ø¬ÙˆØ§Ø¦Ø²</h2>
                
                <div class="achievements-summary">
                    <div class="achievement-count">
                        <span class="big-number" id="unlocked-count">0</span>
                        <span class="small-text">/ 20 Ø¥Ù†Ø¬Ø§Ø²</span>
                    </div>
                    <div class="achievement-progress-ring" id="achievement-ring">
                        <svg width="120" height="120">
                            <circle cx="60" cy="60" r="54" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="8"/>
                            <circle id="progress-circle" cx="60" cy="60" r="54" fill="none" stroke="var(--primary)" stroke-width="8" 
                                    stroke-dasharray="339.292" stroke-dashoffset="339.292" 
                                    transform="rotate(-90 60 60)" style="transition: stroke-dashoffset 1s ease"/>
                        </svg>
                        <div class="ring-percentage" id="achievement-percentage">0%</div>
                    </div>
                </div>

                <div class="achievements-grid" id="achievements-grid">
                    <!-- Achievements will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Quran Tab -->
        <div class="tab-content" id="quran">
            <div class="glass-card">
                <div class="quran-search">
                    <input type="text" class="search-input" id="surah-search" placeholder="ðŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³ÙˆØ±Ø©..." oninput="filterSurahs()">
                </div>
                <div class="surah-grid" id="surah-grid">
                    <!-- Surahs will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Khatmah Tab -->
        <div class="tab-content" id="khatmah">
            <div class="glass-card">
                <h2 style="text-align: center; margin-bottom: 30px; font-family: 'Amiri', serif; font-size: 2em;">ðŸ“— Ø®ØªÙ…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h2>
                
                <div class="khatmah-progress-header">
                    <div class="khatmah-stat">
                        <div class="khatmah-stat-number" id="khatmah-percent">0%</div>
                        <div class="khatmah-stat-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</div>
                    </div>
                    <div class="khatmah-stat">
                        <div class="khatmah-stat-number" id="khatmah-completed">0/114</div>
                        <div class="khatmah-stat-label">Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</div>
                    </div>
                    <div class="khatmah-stat">
                        <div class="khatmah-stat-number" id="khatmah-pages">0/604</div>
                        <div class="khatmah-stat-label">Ø§Ù„ØµÙØ­Ø§Øª</div>
                    </div>
                </div>

                <div class="progress-bar-large">
                    <div class="progress-fill-large" id="khatmah-progress-fill"></div>
                </div>

                <div class="khatmah-actions">
                    <button class="khatmah-btn" onclick="resetKhatmah()">ðŸ”„ Ø®ØªÙ…Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                    <button class="khatmah-btn primary" onclick="shareKhatmah()">ðŸ“¸ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØªÙ‚Ø¯Ù…</button>
                </div>

                <div class="khatmah-surahs-grid" id="khatmah-grid">
                    <!-- Khatmah surahs will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Allah's 99 Names Tab -->
        <div class="tab-content" id="names">
            <div class="glass-card">
                <h2 style="text-align: center; margin-bottom: 30px; font-family: 'Amiri', serif; font-size: 2em;">âœ¨ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³Ù†Ù‰</h2>
                
                <div class="names-counter">
                    <div class="names-progress">
                        <div class="names-count" id="names-memorized">0</div>
                        <div class="names-total">/ 99</div>
                    </div>
                    <div class="names-label">Ø§Ø³Ù…Ø§Ù‹ Ø­ÙØ¸ØªÙ‡</div>
                </div>

                <div class="names-grid" id="names-grid">
                    <!-- Names will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Duaa Tab -->
        <div class="tab-content" id="duaa">
            <div class="glass-card">
                <h2 style="text-align: center; margin-bottom: 30px; font-family: 'Amiri', serif; font-size: 2em;">ðŸ¤² Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ù…Ø£Ø«ÙˆØ±Ø©</h2>
                
                <div class="duaa-categories">
                    <button class="duaa-category-btn active" onclick="showDuaaCategory('daily')">Ø£Ø¯Ø¹ÙŠØ© ÙŠÙˆÙ…ÙŠØ©</button>
                    <button class="duaa-category-btn" onclick="showDuaaCategory('quran')">Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ù‚Ø±Ø¢Ù†</button>
                    <button class="duaa-category-btn" onclick="showDuaaCategory('prophet')">Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ù†Ø¨ÙŠ ï·º</button>
                    <button class="duaa-category-btn" onclick="showDuaaCategory('special')">Ø£Ø¯Ø¹ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø§Øª</button>
                </div>

                <div id="duaa-content" class="duaa-list">
                    <!-- Duaa will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Quran Player Modal -->
        <div class="modal" id="quran-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div>
                        <h2 class="modal-title" id="modal-surah-name"></h2>
                        <p class="surah-translation" id="modal-surah-info"></p>
                    </div>
                    <button class="close-btn" onclick="closeQuranModal()">Ã—</button>
                </div>
                <div class="audio-controls">
                    <audio id="quran-audio" class="audio-player" controls></audio>
                    <select class="reciter-select" id="reciter-select" onchange="changeReciter()">
                        <option value="ar.alafasy">Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ</option>
                        <option value="ar.abdulbasitmurattal">Ø¹Ø¨Ø¯ Ø§Ù„Ø¨Ø§Ø³Ø· Ø¹Ø¨Ø¯ Ø§Ù„ØµÙ…Ø¯</option>
                        <option value="ar.husary">Ù…Ø­Ù…ÙˆØ¯ Ø®Ù„ÙŠÙ„ Ø§Ù„Ø­ØµØ±ÙŠ</option>
                        <option value="ar.minshawi">Ù…Ø­Ù…Ø¯ ØµØ¯ÙŠÙ‚ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ</option>
                        <option value="ar.shaatree">Ø£Ø¨Ùˆ Ø¨ÙƒØ± Ø§Ù„Ø´Ø§Ø·Ø±ÙŠ</option>
                    </select>
                </div>
                <div class="ayat-container" id="ayat-container">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                </div>
            </div>
        </div>

        <!-- Adhkar Tab -->
        <div class="tab-content" id="adhkar">
            <div class="glass-card">
                <div class="adhkar-categories">
                    <button class="adhkar-category-btn active" onclick="showAdhkar('morning')">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</button>
                    <button class="adhkar-category-btn" onclick="showAdhkar('evening')">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</button>
                    <button class="adhkar-category-btn" onclick="showAdhkar('sleep')">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</button>
                    <button class="adhkar-category-btn" onclick="showAdhkar('after-prayer')">Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©</button>
                </div>
                <div id="adhkar-content">
                    <!-- Adhkar will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Qibla Tab -->
        <div class="tab-content" id="qibla">
            <div class="glass-card">
                <div class="qibla-container">
                    <h2>ðŸ§­ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©</h2>
                    <div class="compass" id="compass">
                        <div class="compass-inner" id="compass-inner">
                            <div class="compass-direction">N</div>
                            <div class="compass-needle"></div>
                            <div class="compass-center"></div>
                        </div>
                    </div>
                    <div class="qibla-info">
                        <p>Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ù„Ù„Ù‚Ø¨Ù„Ø©</p>
                        <div class="qibla-degree" id="qibla-degree">---Â°</div>
                        <button class="btn-get-location" onclick="findQibla()">ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø¨Ù„Ø©</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tasbih Tab -->
        <div class="tab-content" id="tasbih">
            <div class="glass-card">
                <div class="tasbih-container">
                    <h2>ðŸ“¿ Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h2>
                    <div class="tasbih-counter" onclick="incrementTasbih()">
                        <div class="tasbih-count" id="tasbih-count">0</div>
                        <div class="tasbih-label" id="tasbih-label">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</div>
                    </div>
                    <div class="tasbih-controls">
                        <button class="tasbih-btn" onclick="resetTasbih()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
                    </div>
                    <div class="tasbih-presets">
                        <button class="preset-btn active-preset" onclick="setTasbihText('Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡')">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</button>
                        <button class="preset-btn" onclick="setTasbihText('Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡')">Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡</button>
                        <button class="preset-btn" onclick="setTasbihText('Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±')">Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</button>
                        <button class="preset-btn" onclick="setTasbihText('Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡')">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</button>
                        <button class="preset-btn" onclick="setTasbihText('Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡')">Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let currentSurahNumber = 1;
        let currentReciter = 'ar.alafasy';
        let tasbihCount = 0;
        let currentDhikrText = 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡';

        // Tab Switching
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabName = btn.dataset.tab;
                
                // Remove active class from all tabs and contents
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                btn.classList.add('active');
                document.getElementById(tabName).classList.add('active');
            });
        });

        // Prayer Times Functions
        async function getPrayerTimes() {
            if (!navigator.geolocation) {
                showNotification('âŒ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹');
                return;
            }

            const locationText = document.getElementById('location-text');
            locationText.innerHTML = 'â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ...';

            navigator.geolocation.getCurrentPosition(async (position) => {
                const { latitude, longitude } = position.coords;
                
                // Get city and country name from coordinates
                let locationName = 'Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ';
                try {
                    const geoResponse = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json&accept-language=ar`, {
                        headers: {
                            'User-Agent': 'Kareem Islamic App'
                        }
                    });
                    
                    if (geoResponse.ok) {
                        const geoData = await geoResponse.json();
                        const city = geoData.address.city || geoData.address.town || geoData.address.village || geoData.address.state || '';
                        const country = geoData.address.country || '';
                        locationName = city && country ? `${city}, ${country}` : 'Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ';
                    }
                } catch (error) {
                    console.log('Could not get location name, using coordinates');
                }
                
                locationText.innerHTML = `ðŸ“ ${locationName}`;
                localStorage.setItem('locationName', locationName);

                // Calculate prayer times using Aladhan API
                const date = new Date();
                const dateStr = `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;
                
                try {
                    const url = `https://api.aladhan.com/v1/timings/${dateStr}?latitude=${latitude}&longitude=${longitude}&method=5`;
                    console.log('Fetching prayer times from:', url);
                    
                    const response = await fetch(url);
                    const data = await response.json();
                    
                    console.log('Prayer times response:', data);
                    
                    if (data.code === 200) {
                        const timings = data.data.timings;
                        displayPrayerTimes(timings);
                        
                        // Cache prayer times
                        localStorage.setItem('prayerTimes', JSON.stringify(timings));
                        localStorage.setItem('prayerTimesDate', dateStr);
                        localStorage.setItem('prayerLocation', `${latitude},${longitude}`);
                        
                        // Update Hijri date from the same API response
                        if (data.data.date && data.data.date.hijri) {
                            const hijri = data.data.date.hijri;
                            const gregorian = data.data.date.gregorian;
                            updateHijriDate(hijri, gregorian);
                        }
                        
                        showNotification('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­');
                    }
                } catch (error) {
                    console.error('Error fetching prayer times:', error);
                    // Load from cache if available
                    const cached = localStorage.getItem('prayerTimes');
                    if (cached) {
                        displayPrayerTimes(JSON.parse(cached));
                        showNotification('âš ï¸ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ù…ÙˆØ§Ù‚ÙŠØª Ù…Ø­ÙÙˆØ¸Ø© (Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„)');
                    } else {
                        showNotification('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©');
                        locationText.innerHTML = 'âŒ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ - Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
                    }
                }
            }, (error) => {
                console.error('Geolocation error:', error);
                let errorMsg = 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹';
                
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        errorMsg = 'âŒ ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹';
                        // Show help modal
                        showHelpModal();
                        break;
                    case error.POSITION_UNAVAILABLE:
                        errorMsg = 'âŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØºÙŠØ± Ù…ØªØ§Ø­';
                        break;
                    case error.TIMEOUT:
                        errorMsg = 'â±ï¸ Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹';
                        break;
                }
                
                showNotification(errorMsg);
                locationText.innerHTML = errorMsg + ' <button onclick="showHelpModal()" style="background: var(--primary); border: none; color: white; padding: 8px 20px; border-radius: 20px; cursor: pointer; margin-right: 10px; font-family: \'Tajawal\', sans-serif;">ÙƒÙŠÙ Ø£ÙØ¹Ù‘Ù„Ù‡ØŸ</button>';
                
                // Try to load cached data
                const cached = localStorage.getItem('prayerTimes');
                if (cached) {
                    displayPrayerTimes(JSON.parse(cached));
                    const cachedLocation = localStorage.getItem('prayerLocation');
                    if (cachedLocation) {
                        locationText.innerHTML += `<br><small style="color: rgba(255,255,255,0.6);">ðŸ“ ${cachedLocation} (Ù…Ø­ÙÙˆØ¸)</small>`;
                    }
                }
            }, {
                enableHighAccuracy: true,
                timeout: 10000,
                maximumAge: 0
            });
        }

        function displayPrayerTimes(timings) {
            const prayerNames = {
                'Fajr': 'Ø§Ù„ÙØ¬Ø±',
                'Dhuhr': 'Ø§Ù„Ø¸Ù‡Ø±',
                'Asr': 'Ø§Ù„Ø¹ØµØ±',
                'Maghrib': 'Ø§Ù„Ù…ØºØ±Ø¨',
                'Isha': 'Ø§Ù„Ø¹Ø´Ø§Ø¡'
            };

            const grid = document.getElementById('prayer-times-grid');
            grid.innerHTML = '';

            const now = new Date();
            let nextPrayer = null;
            let minDiff = Infinity;

            Object.entries(prayerNames).forEach(([key, name]) => {
                const time = timings[key];
                const [hours, minutes] = time.split(':');
                const prayerTime = new Date();
                prayerTime.setHours(parseInt(hours), parseInt(minutes), 0);

                const diff = prayerTime - now;
                if (diff > 0 && diff < minDiff) {
                    minDiff = diff;
                    nextPrayer = key;
                }

                const card = document.createElement('div');
                card.className = 'prayer-card';
                if (key === nextPrayer) {
                    card.classList.add('next-prayer');
                    const remaining = formatTimeRemaining(diff);
                    card.innerHTML = `
                        <div class="prayer-name">${name}</div>
                        <div class="prayer-time">${time}</div>
                        <div class="remaining-time">Ù…ØªØ¨Ù‚ÙŠ: ${remaining}</div>
                    `;
                } else {
                    card.innerHTML = `
                        <div class="prayer-name">${name}</div>
                        <div class="prayer-time">${time}</div>
                    `;
                }
                grid.appendChild(card);
            });

            // Sync tracker times
            syncTrackerTimes(timings);

            // Set notification for next prayer (at prayer time)
            if (nextPrayer && minDiff > 0) {
                setTimeout(() => {
                    playAdhan();
                    showNotification(`ðŸ•Œ Ø­Ø§Ù† Ø§Ù„Ø¢Ù† Ù…ÙˆØ¹Ø¯ ØµÙ„Ø§Ø© ${prayerNames[nextPrayer]}`);
                }, minDiff);
                
                // Set reminder 10 minutes before prayer
                const reminderTime = minDiff - (10 * 60 * 1000); // 10 minutes before
                if (reminderTime > 0) {
                    setTimeout(() => {
                        showNotification(`â° ØªØ¨Ù‚Ù‰ 10 Ø¯Ù‚Ø§Ø¦Ù‚ Ø¹Ù„Ù‰ ØµÙ„Ø§Ø© ${prayerNames[nextPrayer]}`);
                        if (navigator.vibrate) {
                            navigator.vibrate([200, 100, 200]);
                        }
                    }, reminderTime);
                }
            }
            
            // Update Taqwa meter
            updateTaqwaMeter();
        }

        // Taqwa Meter Calculation
        function updateTaqwaMeter() {
            const today = new Date().toDateString();
            const trackerData = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            const todayData = trackerData[today] || {};
            const khatmahData = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
            const memorizedNames = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
            
            let score = 0;
            let tips = [];
            
            // Prayers (50 points max)
            const prayersCount = Object.values(todayData).filter(v => v).length;
            score += prayersCount * 10;
            if (prayersCount < 5) {
                tips.push(`ØµÙ„ÙŠØª ${prayersCount} Ù…Ù† 5 ØµÙ„ÙˆØ§Øª`);
            } else {
                tips.push('Ù…Ø§Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„ÙˆØ§Øª');
            }
            
            // Quran (30 points max)
            const quranProgress = Object.keys(khatmahData).length;
            const quranScore = Math.min(30, Math.floor(quranProgress / 114 * 30));
            score += quranScore;
            if (quranProgress > 0) {
                tips.push(`Ù‚Ø±Ø£Øª ${quranProgress} Ø³ÙˆØ±Ø©`);
            }
            
            // Allah's Names (20 points max)
            const namesCount = Object.keys(memorizedNames).length;
            const namesScore = Math.min(20, Math.floor(namesCount / 99 * 20));
            score += namesScore;
            if (namesCount > 0) {
                tips.push(`Ø­ÙØ¸Øª ${namesCount} Ø§Ø³Ù…Ø§Ù‹ Ù…Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡`);
            }
            
            // Update UI
            document.getElementById('taqwa-score').textContent = score + '%';
            document.getElementById('taqwa-fill').style.width = score + '%';
            
            let taqwaTip = tips.join(' â€¢ ');
            if (score === 100) {
                taqwaTip = 'ðŸŽ‰ Ù…Ø§Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! ÙŠÙˆÙ… Ù…Ø«Ø§Ù„ÙŠ - Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ!';
            } else if (score >= 80) {
                taqwaTip = 'â­ Ù…Ù…ØªØ§Ø²! ' + taqwaTip;
            } else if (score >= 50) {
                taqwaTip = 'ðŸ‘ Ø¬ÙŠØ¯! ' + taqwaTip;
            } else {
                taqwaTip = 'ðŸ’ª Ø§Ø³ØªÙ…Ø±! ' + taqwaTip;
            }
            
            document.getElementById('taqwa-tips').textContent = taqwaTip;
        }

        function formatTimeRemaining(ms) {
            const hours = Math.floor(ms / (1000 * 60 * 60));
            const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));
            return `${hours}Ø³ ${minutes}Ø¯`;
        }

        function playAdhan() {
            // Create audio context for adhan sound
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Play notification sequence
            const notes = [
                {freq: 659, duration: 0.3}, // E
                {freq: 659, duration: 0.3}, // E
                {freq: 698, duration: 0.3}, // F
                {freq: 784, duration: 0.6}, // G
                {freq: 698, duration: 0.3}, // F
                {freq: 659, duration: 0.3}, // E
                {freq: 587, duration: 0.6}  // D
            ];
            
            let currentTime = audioContext.currentTime;
            
            notes.forEach((note, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = note.freq;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0, currentTime);
                gainNode.gain.linearRampToValueAtTime(0.3, currentTime + 0.01);
                gainNode.gain.exponentialRampToValueAtTime(0.01, currentTime + note.duration);
                
                oscillator.start(currentTime);
                oscillator.stop(currentTime + note.duration);
                
                currentTime += note.duration;
            });
            
            // Request notification permission if not granted
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
            
            // Show browser notification
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification('ðŸ•Œ Ù…ÙˆØ¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©', {
                    body: 'Ø­Ø§Ù† Ø§Ù„Ø¢Ù† Ù…ÙˆØ¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©',
                    icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="75" font-size="75">ðŸ•Œ</text></svg>',
                    requireInteraction: true
                });
            }
            
            // Vibrate if supported
            if (navigator.vibrate) {
                navigator.vibrate([200, 100, 200, 100, 200]);
            }
        }

        // Quran Functions
        const surahs = [
            {number: 1, name: 'Ø§Ù„ÙØ§ØªØ­Ø©', translation: 'The Opening', verses: 7, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 2, name: 'Ø§Ù„Ø¨Ù‚Ø±Ø©', translation: 'The Cow', verses: 286, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 3, name: 'Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†', translation: 'Family of Imran', verses: 200, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 4, name: 'Ø§Ù„Ù†Ø³Ø§Ø¡', translation: 'The Women', verses: 176, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 5, name: 'Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©', translation: 'The Table Spread', verses: 120, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 6, name: 'Ø§Ù„Ø£Ù†Ø¹Ø§Ù…', translation: 'The Cattle', verses: 165, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 7, name: 'Ø§Ù„Ø£Ø¹Ø±Ø§Ù', translation: 'The Heights', verses: 206, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 8, name: 'Ø§Ù„Ø£Ù†ÙØ§Ù„', translation: 'The Spoils of War', verses: 75, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 9, name: 'Ø§Ù„ØªÙˆØ¨Ø©', translation: 'The Repentance', verses: 129, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 10, name: 'ÙŠÙˆÙ†Ø³', translation: 'Jonah', verses: 109, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 11, name: 'Ù‡ÙˆØ¯', translation: 'Hud', verses: 123, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 12, name: 'ÙŠÙˆØ³Ù', translation: 'Joseph', verses: 111, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 13, name: 'Ø§Ù„Ø±Ø¹Ø¯', translation: 'The Thunder', verses: 43, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 14, name: 'Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…', translation: 'Abraham', verses: 52, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 15, name: 'Ø§Ù„Ø­Ø¬Ø±', translation: 'The Rocky Tract', verses: 99, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 16, name: 'Ø§Ù„Ù†Ø­Ù„', translation: 'The Bee', verses: 128, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 17, name: 'Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡', translation: 'The Night Journey', verses: 111, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 18, name: 'Ø§Ù„ÙƒÙ‡Ù', translation: 'The Cave', verses: 110, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 19, name: 'Ù…Ø±ÙŠÙ…', translation: 'Mary', verses: 98, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 20, name: 'Ø·Ù‡', translation: 'Ta-Ha', verses: 135, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 21, name: 'Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡', translation: 'The Prophets', verses: 112, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 22, name: 'Ø§Ù„Ø­Ø¬', translation: 'The Pilgrimage', verses: 78, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 23, name: 'Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†', translation: 'The Believers', verses: 118, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 24, name: 'Ø§Ù„Ù†ÙˆØ±', translation: 'The Light', verses: 64, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 25, name: 'Ø§Ù„ÙØ±Ù‚Ø§Ù†', translation: 'The Criterion', verses: 77, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 26, name: 'Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡', translation: 'The Poets', verses: 227, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 27, name: 'Ø§Ù„Ù†Ù…Ù„', translation: 'The Ant', verses: 93, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 28, name: 'Ø§Ù„Ù‚ØµØµ', translation: 'The Stories', verses: 88, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 29, name: 'Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª', translation: 'The Spider', verses: 69, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 30, name: 'Ø§Ù„Ø±ÙˆÙ…', translation: 'The Romans', verses: 60, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 31, name: 'Ù„Ù‚Ù…Ø§Ù†', translation: 'Luqman', verses: 34, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 32, name: 'Ø§Ù„Ø³Ø¬Ø¯Ø©', translation: 'The Prostration', verses: 30, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 33, name: 'Ø§Ù„Ø£Ø­Ø²Ø§Ø¨', translation: 'The Clans', verses: 73, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 34, name: 'Ø³Ø¨Ø£', translation: 'Sheba', verses: 54, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 35, name: 'ÙØ§Ø·Ø±', translation: 'Originator', verses: 45, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 36, name: 'ÙŠØ³', translation: 'Ya Sin', verses: 83, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 37, name: 'Ø§Ù„ØµØ§ÙØ§Øª', translation: 'Those Ranges in Ranks', verses: 182, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 38, name: 'Øµ', translation: 'The Letter Saad', verses: 88, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 39, name: 'Ø§Ù„Ø²Ù…Ø±', translation: 'The Troops', verses: 75, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 40, name: 'ØºØ§ÙØ±', translation: 'The Forgiver', verses: 85, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 41, name: 'ÙØµÙ„Øª', translation: 'Explained in Detail', verses: 54, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 42, name: 'Ø§Ù„Ø´ÙˆØ±Ù‰', translation: 'The Consultation', verses: 53, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 43, name: 'Ø§Ù„Ø²Ø®Ø±Ù', translation: 'The Ornaments of Gold', verses: 89, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 44, name: 'Ø§Ù„Ø¯Ø®Ø§Ù†', translation: 'The Smoke', verses: 59, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 45, name: 'Ø§Ù„Ø¬Ø§Ø«ÙŠØ©', translation: 'The Crouching', verses: 37, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 46, name: 'Ø§Ù„Ø£Ø­Ù‚Ø§Ù', translation: 'The Wind-Curved Sandhills', verses: 35, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 47, name: 'Ù…Ø­Ù…Ø¯', translation: 'Muhammad', verses: 38, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 48, name: 'Ø§Ù„ÙØªØ­', translation: 'The Victory', verses: 29, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 49, name: 'Ø§Ù„Ø­Ø¬Ø±Ø§Øª', translation: 'The Rooms', verses: 18, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 50, name: 'Ù‚', translation: 'The Letter Qaf', verses: 45, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 51, name: 'Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª', translation: 'The Winnowing Winds', verses: 60, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 52, name: 'Ø§Ù„Ø·ÙˆØ±', translation: 'The Mount', verses: 49, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 53, name: 'Ø§Ù„Ù†Ø¬Ù…', translation: 'The Star', verses: 62, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 54, name: 'Ø§Ù„Ù‚Ù…Ø±', translation: 'The Moon', verses: 55, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 55, name: 'Ø§Ù„Ø±Ø­Ù…Ù†', translation: 'The Beneficent', verses: 78, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 56, name: 'Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©', translation: 'The Inevitable', verses: 96, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 57, name: 'Ø§Ù„Ø­Ø¯ÙŠØ¯', translation: 'The Iron', verses: 29, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 58, name: 'Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©', translation: 'The Pleading Woman', verses: 22, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 59, name: 'Ø§Ù„Ø­Ø´Ø±', translation: 'The Exile', verses: 24, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 60, name: 'Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©', translation: 'She that is to be examined', verses: 13, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 61, name: 'Ø§Ù„ØµÙ', translation: 'The Ranks', verses: 14, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 62, name: 'Ø§Ù„Ø¬Ù…Ø¹Ø©', translation: 'Friday', verses: 11, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 63, name: 'Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†', translation: 'The Hypocrites', verses: 11, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 64, name: 'Ø§Ù„ØªØºØ§Ø¨Ù†', translation: 'The Mutual Disillusion', verses: 18, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 65, name: 'Ø§Ù„Ø·Ù„Ø§Ù‚', translation: 'The Divorce', verses: 12, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 66, name: 'Ø§Ù„ØªØ­Ø±ÙŠÙ…', translation: 'The Prohibition', verses: 12, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 67, name: 'Ø§Ù„Ù…Ù„Ùƒ', translation: 'The Sovereignty', verses: 30, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 68, name: 'Ø§Ù„Ù‚Ù„Ù…', translation: 'The Pen', verses: 52, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 69, name: 'Ø§Ù„Ø­Ø§Ù‚Ø©', translation: 'The Reality', verses: 52, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 70, name: 'Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬', translation: 'The Ascending Stairways', verses: 44, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 71, name: 'Ù†ÙˆØ­', translation: 'Noah', verses: 28, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 72, name: 'Ø§Ù„Ø¬Ù†', translation: 'The Jinn', verses: 28, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 73, name: 'Ø§Ù„Ù…Ø²Ù…Ù„', translation: 'The Enshrouded One', verses: 20, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 74, name: 'Ø§Ù„Ù…Ø¯Ø«Ø±', translation: 'The Cloaked One', verses: 56, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 75, name: 'Ø§Ù„Ù‚ÙŠØ§Ù…Ø©', translation: 'The Resurrection', verses: 40, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 76, name: 'Ø§Ù„Ø§Ù†Ø³Ø§Ù†', translation: 'The Man', verses: 31, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 77, name: 'Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª', translation: 'The Emissaries', verses: 50, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 78, name: 'Ø§Ù„Ù†Ø¨Ø£', translation: 'The Tidings', verses: 40, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 79, name: 'Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª', translation: 'Those who drag forth', verses: 46, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 80, name: 'Ø¹Ø¨Ø³', translation: 'He frowned', verses: 42, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 81, name: 'Ø§Ù„ØªÙƒÙˆÙŠØ±', translation: 'The Overthrowing', verses: 29, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 82, name: 'Ø§Ù„Ø¥Ù†ÙØ·Ø§Ø±', translation: 'The Cleaving', verses: 19, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 83, name: 'Ø§Ù„Ù…Ø·ÙÙÙŠÙ†', translation: 'The Defrauding', verses: 36, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 84, name: 'Ø§Ù„Ø¥Ù†Ø´Ù‚Ø§Ù‚', translation: 'The Sundering', verses: 25, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 85, name: 'Ø§Ù„Ø¨Ø±ÙˆØ¬', translation: 'The Mansions of Stars', verses: 22, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 86, name: 'Ø§Ù„Ø·Ø§Ø±Ù‚', translation: 'The Nightcommer', verses: 17, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 87, name: 'Ø§Ù„Ø£Ø¹Ù„Ù‰', translation: 'The Most High', verses: 19, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 88, name: 'Ø§Ù„ØºØ§Ø´ÙŠØ©', translation: 'The Overwhelming', verses: 26, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 89, name: 'Ø§Ù„ÙØ¬Ø±', translation: 'The Dawn', verses: 30, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 90, name: 'Ø§Ù„Ø¨Ù„Ø¯', translation: 'The City', verses: 20, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 91, name: 'Ø§Ù„Ø´Ù…Ø³', translation: 'The Sun', verses: 15, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 92, name: 'Ø§Ù„Ù„ÙŠÙ„', translation: 'The Night', verses: 21, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 93, name: 'Ø§Ù„Ø¶Ø­Ù‰', translation: 'The Morning Hours', verses: 11, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 94, name: 'Ø§Ù„Ø´Ø±Ø­', translation: 'The Relief', verses: 8, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 95, name: 'Ø§Ù„ØªÙŠÙ†', translation: 'The Fig', verses: 8, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 96, name: 'Ø§Ù„Ø¹Ù„Ù‚', translation: 'The Clot', verses: 19, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 97, name: 'Ø§Ù„Ù‚Ø¯Ø±', translation: 'The Power', verses: 5, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 98, name: 'Ø§Ù„Ø¨ÙŠÙ†Ø©', translation: 'The Clear Proof', verses: 8, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 99, name: 'Ø§Ù„Ø²Ù„Ø²Ù„Ø©', translation: 'The Earthquake', verses: 8, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 100, name: 'Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª', translation: 'The Chargers', verses: 11, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 101, name: 'Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©', translation: 'The Calamity', verses: 11, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 102, name: 'Ø§Ù„ØªÙƒØ§Ø«Ø±', translation: 'The Rivalry in world increase', verses: 8, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 103, name: 'Ø§Ù„Ø¹ØµØ±', translation: 'The Declining Day', verses: 3, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 104, name: 'Ø§Ù„Ù‡Ù…Ø²Ø©', translation: 'The Traducer', verses: 9, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 105, name: 'Ø§Ù„ÙÙŠÙ„', translation: 'The Elephant', verses: 5, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 106, name: 'Ù‚Ø±ÙŠØ´', translation: 'Quraysh', verses: 4, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 107, name: 'Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†', translation: 'The Small kindnesses', verses: 7, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 108, name: 'Ø§Ù„ÙƒÙˆØ«Ø±', translation: 'The Abundance', verses: 3, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 109, name: 'Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†', translation: 'The Disbelievers', verses: 6, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 110, name: 'Ø§Ù„Ù†ØµØ±', translation: 'The Divine Support', verses: 3, revelation: 'Ù…Ø¯Ù†ÙŠØ©'},
            {number: 111, name: 'Ø§Ù„Ù…Ø³Ø¯', translation: 'The Palm Fibre', verses: 5, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 112, name: 'Ø§Ù„Ø¥Ø®Ù„Ø§Øµ', translation: 'The Sincerity', verses: 4, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 113, name: 'Ø§Ù„ÙÙ„Ù‚', translation: 'The Daybreak', verses: 5, revelation: 'Ù…ÙƒÙŠØ©'},
            {number: 114, name: 'Ø§Ù„Ù†Ø§Ø³', translation: 'Mankind', verses: 6, revelation: 'Ù…ÙƒÙŠØ©'}
        ];

        function displaySurahs() {
            const grid = document.getElementById('surah-grid');
            grid.innerHTML = '';
            
            surahs.forEach(surah => {
                const card = document.createElement('div');
                card.className = 'surah-card';
                card.onclick = () => openQuranModal(surah.number);
                card.innerHTML = `
                    <div class="surah-number">${surah.number}</div>
                    <div class="surah-name">${surah.name}</div>
                    <div class="surah-translation">${surah.translation}</div>
                    <div class="surah-info">${surah.verses} Ø¢ÙŠØ© â€¢ ${surah.revelation}</div>
                `;
                grid.appendChild(card);
            });
        }

        function filterSurahs() {
            const searchTerm = document.getElementById('surah-search').value.toLowerCase();
            const cards = document.querySelectorAll('.surah-card');
            
            cards.forEach((card, index) => {
                const surah = surahs[index];
                const matches = surah.name.includes(searchTerm) || 
                               surah.translation.toLowerCase().includes(searchTerm) ||
                               surah.number.toString().includes(searchTerm);
                card.style.display = matches ? 'block' : 'none';
            });
        }

        async function openQuranModal(surahNumber) {
            currentSurahNumber = surahNumber;
            const modal = document.getElementById('quran-modal');
            const surah = surahs[surahNumber - 1];
            
            document.getElementById('modal-surah-name').textContent = surah.name;
            document.getElementById('modal-surah-info').textContent = `${surah.translation} â€¢ ${surah.verses} Ø¢ÙŠØ© â€¢ ${surah.revelation}`;
            
            modal.classList.add('active');
            
            // Show loading for audio
            showNotification('â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª...');
            
            // Load audio
            updateAudioSource();
            
            // Load ayat text
            await loadSurahText(surahNumber);
        }

        function closeQuranModal() {
            const modal = document.getElementById('quran-modal');
            modal.classList.remove('active');
            const audio = document.getElementById('quran-audio');
            audio.pause();
        }

        function updateAudioSource() {
            const audio = document.getElementById('quran-audio');
            const surahNum = String(currentSurahNumber).padStart(3, '0');
            
            // Map reciter codes to correct API endpoints
            const reciterMap = {
                'ar.alafasy': 'https://server8.mp3quran.net/afs',
                'ar.abdulbasitmurattal': 'https://server7.mp3quran.net/basit',
                'ar.husary': 'https://server8.mp3quran.net/afs',
                'ar.minshawi': 'https://server10.mp3quran.net/minsh',
                'ar.shaatree': 'https://server11.mp3quran.net/shatri'
            };
            
            const baseUrl = reciterMap[currentReciter] || reciterMap['ar.alafasy'];
            audio.src = `${baseUrl}/${surahNum}.mp3`;
            
            console.log('Loading audio from:', audio.src);
            
            // Add error handling
            audio.onerror = function() {
                console.error('Failed to load audio from:', audio.src);
                showNotification('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª - ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª');
            };
            
            audio.onloadeddata = function() {
                console.log('Audio loaded successfully');
                showNotification('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¨Ù†Ø¬Ø§Ø­');
            };
        }

        function changeReciter() {
            currentReciter = document.getElementById('reciter-select').value;
            updateAudioSource();
        }

        async function loadSurahText(surahNumber) {
            const container = document.getElementById('ayat-container');
            container.innerHTML = '<div class="loading">â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ§Øª...</div>';
            
            try {
                const url = `https://api.alquran.cloud/v1/surah/${surahNumber}`;
                console.log('Fetching surah text from:', url);
                
                const response = await fetch(url);
                const data = await response.json();
                
                console.log('Surah text response:', data);
                
                if (data.code === 200) {
                    container.innerHTML = '';
                    data.data.ayahs.forEach(ayah => {
                        const ayahDiv = document.createElement('div');
                        ayahDiv.className = 'ayah';
                        ayahDiv.innerHTML = `
                            ${ayah.text}
                            <span class="ayah-number">${ayah.numberInSurah}</span>
                        `;
                        container.appendChild(ayahDiv);
                    });
                    showNotification('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­');
                } else {
                    throw new Error('Failed to load surah text');
                }
            } catch (error) {
                console.error('Error loading surah text:', error);
                container.innerHTML = '<div class="loading">âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ<br>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„ØµÙˆØª Ø¨Ø¯ÙˆÙ† Ø§Ù„Ù†Øµ</div>';
                showNotification('âš ï¸ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Øµ - Ø§Ù„ØµÙˆØª Ù…ØªØ§Ø­');
            }
        }

        // Adhkar Data
        const adhkarData = {
            morning: [
                {
                    text: 'Ø£ÙŽØµÙ’Ø¨ÙŽØ­Ù’Ù†ÙŽØ§ ÙˆÙŽØ£ÙŽØµÙ’Ø¨ÙŽØ­ÙŽ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙŽÙ‘Ù‡ÙØŒ ÙˆÙŽØ§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡ÙØŒ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ­Ù’Ø¯ÙŽÙ‡Ù Ù„ÙŽØ§ Ø´ÙŽØ±ÙÙŠÙƒÙŽ Ù„ÙŽÙ‡ÙØŒ Ù„ÙŽÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙŽÙ„ÙŽÙ‡Ù Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù ÙˆÙŽÙ‡ÙÙˆÙŽ Ø¹ÙŽÙ„ÙŽÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙŽÙŠÙ’Ø¡Ù Ù‚ÙŽØ¯ÙÙŠØ±ÙŒ',
                    translation: 'Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ ÙˆÙ„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡',
                    count: 1
                },
                {
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¨ÙÙƒÙŽ Ø£ÙŽØµÙ’Ø¨ÙŽØ­Ù’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ø£ÙŽÙ…Ù’Ø³ÙŽÙŠÙ’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ù†ÙŽØ­Ù’ÙŠÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ù†ÙŽÙ…ÙÙˆØªÙØŒ ÙˆÙŽØ¥ÙÙ„ÙŽÙŠÙ’ÙƒÙŽ Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØª ÙˆØ¥Ù„ÙŠÙƒ Ø§Ù„Ù†Ø´ÙˆØ±',
                    count: 1
                },
                {
                    text: 'Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙ‡Ù',
                    translation: 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡',
                    count: 100
                },
                {
                    text: 'Ø£ÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ ÙˆÙŽØ£ÙŽØªÙÙˆØ¨Ù Ø¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù',
                    translation: 'Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ ÙˆØ£ØªÙˆØ¨ Ø¥Ù„ÙŠÙ‡',
                    count: 100
                }
            ],
            evening: [
                {
                    text: 'Ø£ÙŽÙ…Ù’Ø³ÙŽÙŠÙ’Ù†ÙŽØ§ ÙˆÙŽØ£ÙŽÙ…Ù’Ø³ÙŽÙ‰ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙŽÙ‘Ù‡ÙØŒ ÙˆÙŽØ§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡ÙØŒ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ­Ù’Ø¯ÙŽÙ‡Ù Ù„ÙŽØ§ Ø´ÙŽØ±ÙÙŠÙƒÙŽ Ù„ÙŽÙ‡ÙØŒ Ù„ÙŽÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙŽÙ„ÙŽÙ‡Ù Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù ÙˆÙŽÙ‡ÙÙˆÙŽ Ø¹ÙŽÙ„ÙŽÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙŽÙŠÙ’Ø¡Ù Ù‚ÙŽØ¯ÙÙŠØ±ÙŒ',
                    translation: 'Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ£Ù…Ø³Ù‰ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡',
                    count: 1
                },
                {
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¨ÙÙƒÙŽ Ø£ÙŽÙ…Ù’Ø³ÙŽÙŠÙ’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ø£ÙŽØµÙ’Ø¨ÙŽØ­Ù’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ù†ÙŽØ­Ù’ÙŠÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ù†ÙŽÙ…ÙÙˆØªÙØŒ ÙˆÙŽØ¥ÙÙ„ÙŽÙŠÙ’ÙƒÙŽ Ø§Ù„Ù’Ù…ÙŽØµÙÙŠØ±Ù',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§',
                    count: 1
                },
                {
                    text: 'Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙ‡Ù',
                    translation: 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡',
                    count: 100
                }
            ],
            sleep: [
                {
                    text: 'Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ…ÙÙˆØªÙ ÙˆÙŽØ£ÙŽØ­Ù’ÙŠÙŽØ§',
                    translation: 'Ø¨Ø§Ø³Ù…Ùƒ Ø§Ù„Ù„Ù‡Ù… Ø£Ù…ÙˆØª ÙˆØ£Ø­ÙŠØ§',
                    count: 1
                },
                {
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù‚ÙÙ†ÙÙŠ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽÙƒÙŽ ÙŠÙŽÙˆÙ’Ù…ÙŽ ØªÙŽØ¨Ù’Ø¹ÙŽØ«Ù Ø¹ÙØ¨ÙŽØ§Ø¯ÙŽÙƒÙŽ',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ù‚Ù†ÙŠ Ø¹Ø°Ø§Ø¨Ùƒ ÙŠÙˆÙ… ØªØ¨Ø¹Ø« Ø¹Ø¨Ø§Ø¯Ùƒ',
                    count: 3
                },
                {
                    text: 'Ø¢Ù…ÙŽÙ†ÙŽ Ø§Ù„Ø±ÙŽÙ‘Ø³ÙÙˆÙ„Ù Ø¨ÙÙ…ÙŽØ§ Ø£ÙÙ†Ø²ÙÙ„ÙŽ Ø¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù Ù…ÙÙ† Ø±ÙŽÙ‘Ø¨ÙÙ‘Ù‡Ù ÙˆÙŽØ§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙˆÙ†ÙŽ Ûš ÙƒÙÙ„ÙŒÙ‘ Ø¢Ù…ÙŽÙ†ÙŽ Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ…ÙŽÙ„ÙŽØ§Ø¦ÙÙƒÙŽØªÙÙ‡Ù ÙˆÙŽÙƒÙØªÙØ¨ÙÙ‡Ù ÙˆÙŽØ±ÙØ³ÙÙ„ÙÙ‡Ù',
                    translation: 'Ø¢Ø®Ø± Ø¢ÙŠØªÙŠÙ† Ù…Ù† Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©',
                    count: 1
                }
            ],
            'after-prayer': [
                {
                    text: 'Ø£ÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ',
                    translation: 'Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡',
                    count: 3
                },
                {
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ†Ù’ØªÙŽ Ø§Ù„Ø³ÙŽÙ‘Ù„ÙŽØ§Ù…Ù ÙˆÙŽÙ…ÙÙ†Ù’ÙƒÙŽ Ø§Ù„Ø³ÙŽÙ‘Ù„ÙŽØ§Ù…Ù ØªÙŽØ¨ÙŽØ§Ø±ÙŽÙƒÙ’ØªÙŽ ÙŠÙŽØ§ Ø°ÙŽØ§ Ø§Ù„Ù’Ø¬ÙŽÙ„ÙŽØ§Ù„Ù ÙˆÙŽØ§Ù„Ù’Ø¥ÙÙƒÙ’Ø±ÙŽØ§Ù…Ù',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ø£Ù†Øª Ø§Ù„Ø³Ù„Ø§Ù… ÙˆÙ…Ù†Ùƒ Ø§Ù„Ø³Ù„Ø§Ù…',
                    count: 1
                },
                {
                    text: 'Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù',
                    translation: 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡',
                    count: 33
                },
                {
                    text: 'Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù',
                    translation: 'Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡',
                    count: 33
                },
                {
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø£ÙŽÙƒÙ’Ø¨ÙŽØ±Ù',
                    translation: 'Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±',
                    count: 34
                }
            ]
        };

        function showAdhkar(category) {
            // Update active button - FIXED
            document.querySelectorAll('.adhkar-category-btn').forEach(btn => btn.classList.remove('active'));
            
            // Find and activate the button for this category
            const buttons = document.querySelectorAll('.adhkar-category-btn');
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick') && btn.getAttribute('onclick').includes(`'${category}'`)) {
                    btn.classList.add('active');
                }
            });
            
            const container = document.getElementById('adhkar-content');
            if (!container) {
                console.error('Adhkar container not found');
                return;
            }
            
            container.innerHTML = '';
            
            const adhkarList = adhkarData[category];
            if (!adhkarList) {
                console.error('No adhkar data for category:', category);
                return;
            }
            
            adhkarList.forEach((dhikr, index) => {
                const card = document.createElement('div');
                card.className = 'dhikr-card';
                card.innerHTML = `
                    <div class="dhikr-text">${dhikr.text}</div>
                    <div class="dhikr-translation">${dhikr.translation}</div>
                    <div class="dhikr-counter-container">
                        <button class="dhikr-count-btn" onclick="countDhikr(this, ${dhikr.count})">
                            Ø°ÙƒØ± (${dhikr.count})
                        </button>
                    </div>
                    <div class="dhikr-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <span class="count-text">0/${dhikr.count}</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function countDhikr(btn, max) {
            const card = btn.closest('.dhikr-card');
            const progressFill = card.querySelector('.progress-fill');
            const countText = card.querySelector('.count-text');
            
            let currentCount = parseInt(countText.textContent.split('/')[0]);
            currentCount = Math.min(currentCount + 1, max);
            
            const percentage = (currentCount / max) * 100;
            progressFill.style.width = percentage + '%';
            countText.textContent = `${currentCount}/${max}`;
            
            if (currentCount === max) {
                btn.textContent = 'âœ“ Ù…ÙƒØªÙ…Ù„';
                btn.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                setTimeout(() => {
                    // Reset after 2 seconds
                    progressFill.style.width = '0%';
                    countText.textContent = `0/${max}`;
                    btn.textContent = `Ø°ÙƒØ± (${max})`;
                    btn.style.background = '';
                }, 2000);
            }
        }

        // Qibla Functions
        function findQibla() {
            if (!navigator.geolocation) {
                showNotification('âŒ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹');
                return;
            }

            showNotification('â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ...');

            navigator.geolocation.getCurrentPosition((position) => {
                const { latitude, longitude } = position.coords;
                const qiblaAngle = calculateQiblaDirection(latitude, longitude);
                
                document.getElementById('qibla-degree').textContent = Math.round(qiblaAngle) + 'Â°';
                
                // Rotate compass
                const compassInner = document.getElementById('compass-inner');
                
                // Check if device supports orientation
                if (window.DeviceOrientationEvent && typeof DeviceOrientationEvent.requestPermission === 'function') {
                    // iOS 13+ requires permission
                    DeviceOrientationEvent.requestPermission()
                        .then(permissionState => {
                            if (permissionState === 'granted') {
                                window.addEventListener('deviceorientation', handleOrientation);
                            } else {
                                compassInner.style.transform = `rotate(${qiblaAngle}deg)`;
                                showNotification('âœ… Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©: ' + Math.round(qiblaAngle) + 'Â° Ø´Ù…Ø§Ù„');
                            }
                        })
                        .catch(() => {
                            compassInner.style.transform = `rotate(${qiblaAngle}deg)`;
                            showNotification('âœ… Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©: ' + Math.round(qiblaAngle) + 'Â° Ø´Ù…Ø§Ù„');
                        });
                } else if (window.DeviceOrientationEvent) {
                    // Try to use device orientation
                    window.addEventListener('deviceorientation', handleOrientation);
                    setTimeout(() => {
                        if (!compassInner.style.transform.includes('rotate')) {
                            compassInner.style.transform = `rotate(${qiblaAngle}deg)`;
                        }
                    }, 1000);
                    showNotification('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©');
                } else {
                    // Static display
                    compassInner.style.transform = `rotate(${qiblaAngle}deg)`;
                    showNotification('âœ… Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©: ' + Math.round(qiblaAngle) + 'Â° Ø´Ù…Ø§Ù„');
                }
                
                function handleOrientation(event) {
                    const heading = event.alpha || 0;
                    const adjustedAngle = qiblaAngle - heading;
                    compassInner.style.transform = `rotate(${adjustedAngle}deg)`;
                }
                
            }, (error) => {
                console.error('Geolocation error:', error);
                let errorMsg = 'âŒ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹';
                
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        errorMsg = 'âŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹';
                        showHelpModal();
                        break;
                    case error.POSITION_UNAVAILABLE:
                        errorMsg = 'âŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØºÙŠØ± Ù…ØªØ§Ø­';
                        break;
                    case error.TIMEOUT:
                        errorMsg = 'â±ï¸ Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹';
                        break;
                }
                
                showNotification(errorMsg);
            }, {
                enableHighAccuracy: true,
                timeout: 10000,
                maximumAge: 0
            });
        }

        function calculateQiblaDirection(lat, lng) {
            // Kaaba coordinates
            const kaabaLat = 21.4225;
            const kaabaLng = 39.8262;
            
            const phiK = kaabaLat * Math.PI / 180.0;
            const lambdaK = kaabaLng * Math.PI / 180.0;
            const phi = lat * Math.PI / 180.0;
            const lambda = lng * Math.PI / 180.0;
            const psi = 180.0 / Math.PI * Math.atan2(Math.sin(lambdaK - lambda), Math.cos(phi) * Math.tan(phiK) - Math.sin(phi) * Math.cos(lambdaK - lambda));
            
            return Math.round(psi < 0 ? psi + 360 : psi);
        }

        // Tasbih Functions
        function incrementTasbih() {
            tasbihCount++;
            document.getElementById('tasbih-count').textContent = tasbihCount;
            
            // Vibration feedback
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            // Special notifications at milestones
            if (tasbihCount === 33 || tasbihCount === 100) {
                showNotification(`ðŸŽ‰ Ù…Ø§Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! ÙˆØµÙ„Øª Ø¥Ù„Ù‰ ${tasbihCount}`);
            }
        }

        function resetTasbih() {
            tasbihCount = 0;
            document.getElementById('tasbih-count').textContent = tasbihCount;
        }

        function setTasbihText(text) {
            currentDhikrText = text;
            
            // Update all preset buttons
            document.querySelectorAll('.preset-btn').forEach(btn => {
                btn.classList.remove('active-preset');
            });
            
            // Highlight the selected button
            event.target.classList.add('active-preset');
            
            // Update tasbih label
            document.getElementById('tasbih-label').textContent = text;
            
            showNotification(`âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ${text}`);
        }

        // Notification System
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Theme Toggle
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.querySelector('.theme-icon');
            
            body.classList.toggle('light-mode');
            
            if (body.classList.contains('light-mode')) {
                themeIcon.textContent = 'â˜€ï¸';
                localStorage.setItem('theme', 'light');
                showNotification('ðŸŒž ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ');
            } else {
                themeIcon.textContent = 'ðŸŒ™';
                localStorage.setItem('theme', 'dark');
                showNotification('ðŸŒ™ ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ');
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const themeIcon = document.querySelector('.theme-icon');
            
            if (savedTheme === 'light') {
                document.body.classList.add('light-mode');
                if (themeIcon) themeIcon.textContent = 'â˜€ï¸';
            }
        }

        // Khatmah Functions
        function loadKhatmahProgress() {
            const khatmahData = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
            updateKhatmahStats(khatmahData);
            displayKhatmahSurahs(khatmahData);
        }

        function displayKhatmahSurahs(khatmahData) {
            const grid = document.getElementById('khatmah-grid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            surahs.forEach(surah => {
                const card = document.createElement('div');
                card.className = 'khatmah-surah-card';
                card.dataset.surahNumber = surah.number;
                
                if (khatmahData[surah.number]) {
                    card.classList.add('completed');
                }
                
                card.innerHTML = `
                    <div class="khatmah-surah-name">${surah.name}</div>
                    <div class="khatmah-surah-info">${surah.verses} Ø¢ÙŠØ©</div>
                `;
                
                // Add click listener directly
                card.addEventListener('click', function() {
                    toggleKhatmahSurahNew(surah.number);
                });
                
                grid.appendChild(card);
            });
        }

        function toggleKhatmahSurahNew(surahNumber) {
            let khatmahData = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
            
            const wasCompleted = khatmahData[surahNumber];
            
            if (wasCompleted) {
                delete khatmahData[surahNumber];
            } else {
                khatmahData[surahNumber] = true;
                if (navigator.vibrate) navigator.vibrate(50);
            }
            
            // Save immediately
            localStorage.setItem('khatmahProgress', JSON.stringify(khatmahData));
            console.log('ðŸ’¾ Khatmah saved:', surahNumber, '=', !wasCompleted);
            
            // Update UI
            const card = document.querySelector(`.khatmah-surah-card[data-surah-number="${surahNumber}"]`);
            if (card) {
                if (!wasCompleted) {
                    card.classList.add('completed');
                } else {
                    card.classList.remove('completed');
                }
            }
            
            updateKhatmahStats(khatmahData);
            if (typeof updateTaqwaMeter === 'function') updateTaqwaMeter();
            if (typeof updateAchievements === 'function') updateAchievements();
            if (typeof updateStatistics === 'function') updateStatistics();
            
            showNotification(!wasCompleted ? 'âœ… ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø³ÙˆØ±Ø©!' : 'ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡');
        }

        function toggleKhatmahSurah(surahNumber) {
            let khatmahData = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
            
            if (khatmahData[surahNumber]) {
                delete khatmahData[surahNumber];
                showNotification(`ØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³ÙˆØ±Ø©`);
            } else {
                khatmahData[surahNumber] = true;
                showNotification(`âœ… ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø³ÙˆØ±Ø©! Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ`);
                if (navigator.vibrate) {
                    navigator.vibrate(100);
                }
            }
            
            // CRITICAL: Triple save with verification
            localStorage.setItem('khatmahProgress', JSON.stringify(khatmahData));
            setTimeout(() => {
                localStorage.setItem('khatmahProgress', JSON.stringify(khatmahData));
            }, 50);
            setTimeout(() => {
                localStorage.setItem('khatmahProgress', JSON.stringify(khatmahData));
                console.log('Khatmah saved:', khatmahData);
            }, 150);
            
            updateKhatmahStats(khatmahData);
            displayKhatmahSurahs(khatmahData);
            updateTaqwaMeter();
            updateAchievements();
            updateStatistics();
        }

        function updateKhatmahStats(khatmahData) {
            const completed = Object.keys(khatmahData).length;
            const total = 114;
            const percentage = Math.round((completed / total) * 100);
            
            // Calculate approximate pages (604 total pages in Quran)
            const totalPages = 604;
            const pagesCompleted = Math.round((completed / total) * totalPages);
            
            document.getElementById('khatmah-percent').textContent = percentage + '%';
            document.getElementById('khatmah-completed').textContent = `${completed}/${total}`;
            document.getElementById('khatmah-pages').textContent = `${pagesCompleted}/${totalPages}`;
            
            const progressFill = document.getElementById('khatmah-progress-fill');
            progressFill.style.width = percentage + '%';
            
            // Congratulations on completion
            if (completed === total) {
                showNotification('ðŸŽ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø®ØªÙ…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…! Ø§Ù„Ù„Ù‡Ù… ØªÙ‚Ø¨Ù„ Ù…Ù†Ø§ ÙˆÙ…Ù†Ùƒ');
            }
        }

        function resetKhatmah() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¨Ø¯Ø¡ Ø®ØªÙ…Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ.')) {
                localStorage.removeItem('khatmahProgress');
                loadKhatmahProgress();
                showNotification('ðŸ”„ ØªÙ… Ø¨Ø¯Ø¡ Ø®ØªÙ…Ø© Ø¬Ø¯ÙŠØ¯Ø©');
            }
        }

        function shareKhatmah() {
            const khatmahData = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
            const completed = Object.keys(khatmahData).length;
            const percentage = Math.round((completed / 114) * 100);
            
            const shareText = `ðŸ“— ØªÙ‚Ø¯Ù…ÙŠ ÙÙŠ Ø®ØªÙ…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…:
âœ… Ø£ÙƒÙ…Ù„Øª ${completed} Ù…Ù† 114 Ø³ÙˆØ±Ø©
ðŸ“Š Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²: ${percentage}%

Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙ‘ ÙˆØªÙ‚Ø¨Ù„ Ù…Ù†ÙŠ ðŸ¤²
#Ø®ØªÙ…Ø©_Ø§Ù„Ù‚Ø±Ø¢Ù† #ÙƒØ±ÙŠÙ…`;

            // Try to use Web Share API
            if (navigator.share) {
                navigator.share({
                    title: 'ØªÙ‚Ø¯Ù…ÙŠ ÙÙŠ Ø®ØªÙ…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†',
                    text: shareText
                }).then(() => {
                    showNotification('âœ… ØªÙ… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­');
                }).catch(() => {
                    copyToClipboard(shareText);
                });
            } else {
                copyToClipboard(shareText);
            }
        }

        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            showNotification('ðŸ“‹ ØªÙ… Ø§Ù„Ù†Ø³Ø®! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©');
        }

        // Duaa Data
        const duaaData = {
            daily: [
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„ØµØ¨Ø§Ø­',
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¨ÙÙƒÙŽ Ø£ÙŽØµÙ’Ø¨ÙŽØ­Ù’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ø£ÙŽÙ…Ù’Ø³ÙŽÙŠÙ’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ù†ÙŽØ­Ù’ÙŠÙŽØ§ØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ù†ÙŽÙ…ÙÙˆØªÙØŒ ÙˆÙŽØ¥ÙÙ„ÙŽÙŠÙ’ÙƒÙŽ Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØª ÙˆØ¥Ù„ÙŠÙƒ Ø§Ù„Ù†Ø´ÙˆØ±',
                    source: 'Ø§Ù„ØªØ±Ù…Ø°ÙŠ'
                },
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù…Ù†Ø²Ù„',
                    text: 'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙØŒ ØªÙŽÙˆÙŽÙƒÙŽÙ‘Ù„Ù’ØªÙ Ø¹ÙŽÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙØŒ Ù„ÙŽØ§ Ø­ÙŽÙˆÙ’Ù„ÙŽ ÙˆÙŽÙ„ÙŽØ§ Ù‚ÙÙˆÙŽÙ‘Ø©ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù',
                    translation: 'Ø¨Ø§Ø³Ù… Ø§Ù„Ù„Ù‡ØŒ ØªÙˆÙƒÙ„Øª Ø¹Ù„Ù‰ Ø§Ù„Ù„Ù‡ØŒ Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡',
                    source: 'Ø£Ø¨Ùˆ Ø¯Ø§ÙˆØ¯ ÙˆØ§Ù„ØªØ±Ù…Ø°ÙŠ'
                },
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†Ø²Ù„',
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø®ÙŽÙŠÙ’Ø±ÙŽ Ø§Ù„Ù’Ù…ÙŽÙˆÙ’Ù„ÙØ¬Ù ÙˆÙŽØ®ÙŽÙŠÙ’Ø±ÙŽ Ø§Ù„Ù’Ù…ÙŽØ®Ù’Ø±ÙŽØ¬ÙØŒ Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ„ÙŽØ¬Ù’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø®ÙŽØ±ÙŽØ¬Ù’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¹ÙŽÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø±ÙŽØ¨ÙÙ‘Ù†ÙŽØ§ ØªÙŽÙˆÙŽÙƒÙŽÙ‘Ù„Ù’Ù†ÙŽØ§',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø®ÙŠØ± Ø§Ù„Ù…ÙˆÙ„Ø¬ ÙˆØ®ÙŠØ± Ø§Ù„Ù…Ø®Ø±Ø¬',
                    source: 'Ø£Ø¨Ùˆ Ø¯Ø§ÙˆØ¯'
                }
            ],
            quran: [
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù‡Ø¯Ø§ÙŠØ©',
                    text: 'Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙØ²ÙØºÙ’ Ù‚ÙÙ„ÙÙˆØ¨ÙŽÙ†ÙŽØ§ Ø¨ÙŽØ¹Ù’Ø¯ÙŽ Ø¥ÙØ°Ù’ Ù‡ÙŽØ¯ÙŽÙŠÙ’ØªÙŽÙ†ÙŽØ§ ÙˆÙŽÙ‡ÙŽØ¨Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù…ÙÙ† Ù„ÙŽÙ‘Ø¯ÙÙ†ÙƒÙŽ Ø±ÙŽØ­Ù’Ù…ÙŽØ©Ù‹ Ûš Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø£ÙŽÙ†ØªÙŽ Ø§Ù„Ù’ÙˆÙŽÙ‡ÙŽÙ‘Ø§Ø¨Ù',
                    translation: 'Ø±Ø¨Ù†Ø§ Ù„Ø§ ØªØ²Øº Ù‚Ù„ÙˆØ¨Ù†Ø§ Ø¨Ø¹Ø¯ Ø¥Ø° Ù‡Ø¯ÙŠØªÙ†Ø§ ÙˆÙ‡Ø¨ Ù„Ù†Ø§ Ù…Ù† Ù„Ø¯Ù†Ùƒ Ø±Ø­Ù…Ø© Ø¥Ù†Ùƒ Ø£Ù†Øª Ø§Ù„ÙˆÙ‡Ø§Ø¨',
                    source: 'Ø³ÙˆØ±Ø© Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†: 8'
                },
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙØ±Ø¬',
                    text: 'Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢ØªÙÙ†ÙŽØ§ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙÙÙŠ Ø§Ù„Ù’Ø¢Ø®ÙØ±ÙŽØ©Ù Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙ‚ÙÙ†ÙŽØ§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù',
                    translation: 'Ø±Ø¨Ù†Ø§ Ø¢ØªÙ†Ø§ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø­Ø³Ù†Ø© ÙˆÙÙŠ Ø§Ù„Ø¢Ø®Ø±Ø© Ø­Ø³Ù†Ø© ÙˆÙ‚Ù†Ø§ Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù†Ø§Ø±',
                    source: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©: 201'
                },
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù…ØºÙØ±Ø©',
                    text: 'Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¸ÙŽÙ„ÙŽÙ…Ù’Ù†ÙŽØ§ Ø£ÙŽÙ†ÙÙØ³ÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙÙ† Ù„ÙŽÙ‘Ù…Ù’ ØªÙŽØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽØªÙŽØ±Ù’Ø­ÙŽÙ…Ù’Ù†ÙŽØ§ Ù„ÙŽÙ†ÙŽÙƒÙÙˆÙ†ÙŽÙ†ÙŽÙ‘ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø®ÙŽØ§Ø³ÙØ±ÙÙŠÙ†ÙŽ',
                    translation: 'Ø±Ø¨Ù†Ø§ Ø¸Ù„Ù…Ù†Ø§ Ø£Ù†ÙØ³Ù†Ø§ ÙˆØ¥Ù† Ù„Ù… ØªØºÙØ± Ù„Ù†Ø§ ÙˆØªØ±Ø­Ù…Ù†Ø§ Ù„Ù†ÙƒÙˆÙ†Ù† Ù…Ù† Ø§Ù„Ø®Ø§Ø³Ø±ÙŠÙ†',
                    source: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ø¹Ø±Ø§Ù: 23'
                }
            ],
            prophet: [
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙƒØ±Ø¨',
                    text: 'Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ…Ù Ø§Ù„Ù’Ø­ÙŽÙ„ÙÙŠÙ…ÙØŒ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙŽØ±Ù’Ø´Ù Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ…ÙØŒ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø±ÙŽØ¨ÙÙ‘ Ø§Ù„Ø³ÙŽÙ‘Ù…ÙŽÙˆÙŽØ§ØªÙ ÙˆÙŽØ±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’Ø£ÙŽØ±Ù’Ø¶Ù ÙˆÙŽØ±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙŽØ±Ù’Ø´Ù Ø§Ù„Ù’ÙƒÙŽØ±ÙÙŠÙ…Ù',
                    translation: 'Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„Ø­Ù„ÙŠÙ…ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…...',
                    source: 'Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡'
                },
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù‡Ù… ÙˆØ§Ù„Ø­Ø²Ù†',
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø¹ÙŽØ¨Ù’Ø¯ÙÙƒÙŽØŒ Ø§Ø¨Ù’Ù†Ù Ø¹ÙŽØ¨Ù’Ø¯ÙÙƒÙŽØŒ Ø§Ø¨Ù’Ù†Ù Ø£ÙŽÙ…ÙŽØªÙÙƒÙŽØŒ Ù†ÙŽØ§ØµÙÙŠÙŽØªÙÙŠ Ø¨ÙÙŠÙŽØ¯ÙÙƒÙŽØŒ Ù…ÙŽØ§Ø¶Ù ÙÙÙŠÙŽÙ‘ Ø­ÙÙƒÙ’Ù…ÙÙƒÙŽØŒ Ø¹ÙŽØ¯Ù’Ù„ÙŒ ÙÙÙŠÙŽÙ‘ Ù‚ÙŽØ¶ÙŽØ§Ø¤ÙÙƒÙŽØŒ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø¨ÙÙƒÙÙ„ÙÙ‘ Ø§Ø³Ù’Ù…Ù Ù‡ÙÙˆÙŽ Ù„ÙŽÙƒÙŽ Ø³ÙŽÙ…ÙŽÙ‘ÙŠÙ’ØªÙŽ Ø¨ÙÙ‡Ù Ù†ÙŽÙÙ’Ø³ÙŽÙƒÙŽØŒ Ø£ÙŽÙˆÙ’ Ø£ÙŽÙ†Ù’Ø²ÙŽÙ„Ù’ØªÙŽÙ‡Ù ÙÙÙŠ ÙƒÙØªÙŽØ§Ø¨ÙÙƒÙŽØŒ Ø£ÙŽÙˆÙ’ Ø¹ÙŽÙ„ÙŽÙ‘Ù…Ù’ØªÙŽÙ‡Ù Ø£ÙŽØ­ÙŽØ¯Ù‹Ø§ Ù…ÙÙ†Ù’ Ø®ÙŽÙ„Ù’Ù‚ÙÙƒÙŽØŒ Ø£ÙŽÙˆÙ Ø§Ø³Ù’ØªÙŽØ£Ù’Ø«ÙŽØ±Ù’ØªÙŽ Ø¨ÙÙ‡Ù ÙÙÙŠ Ø¹ÙÙ„Ù’Ù…Ù Ø§Ù„Ù’ØºÙŽÙŠÙ’Ø¨Ù Ø¹ÙÙ†Ù’Ø¯ÙŽÙƒÙŽØŒ Ø£ÙŽÙ†Ù’ ØªÙŽØ¬Ù’Ø¹ÙŽÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†ÙŽ Ø±ÙŽØ¨ÙÙŠØ¹ÙŽ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠØŒ ÙˆÙŽÙ†ÙÙˆØ±ÙŽ ØµÙŽØ¯Ù’Ø±ÙÙŠØŒ ÙˆÙŽØ¬ÙÙ„ÙŽØ§Ø¡ÙŽ Ø­ÙØ²Ù’Ù†ÙÙŠØŒ ÙˆÙŽØ°ÙŽÙ‡ÙŽØ§Ø¨ÙŽ Ù‡ÙŽÙ…ÙÙ‘ÙŠ',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø¹Ø¨Ø¯Ùƒ Ø§Ø¨Ù† Ø¹Ø¨Ø¯Ùƒ Ø§Ø¨Ù† Ø£Ù…ØªÙƒ... Ø£Ù† ØªØ¬Ø¹Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø±Ø¨ÙŠØ¹ Ù‚Ù„Ø¨ÙŠ ÙˆÙ†ÙˆØ± ØµØ¯Ø±ÙŠ ÙˆØ¬Ù„Ø§Ø¡ Ø­Ø²Ù†ÙŠ ÙˆØ°Ù‡Ø§Ø¨ Ù‡Ù…ÙŠ',
                    source: 'Ù…Ø³Ù†Ø¯ Ø£Ø­Ù…Ø¯'
                }
            ],
            special: [
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø³ÙØ±',
                    text: 'Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø³ÙŽØ®ÙŽÙ‘Ø±ÙŽ Ù„ÙŽÙ†ÙŽØ§ Ù‡ÙŽØ°ÙŽØ§ ÙˆÙŽÙ…ÙŽØ§ ÙƒÙÙ†ÙŽÙ‘Ø§ Ù„ÙŽÙ‡Ù Ù…ÙÙ‚Ù’Ø±ÙÙ†ÙÙŠÙ†ÙŽØŒ ÙˆÙŽØ¥ÙÙ†ÙŽÙ‘Ø§ Ø¥ÙÙ„ÙŽÙ‰ Ø±ÙŽØ¨ÙÙ‘Ù†ÙŽØ§ Ù„ÙŽÙ…ÙÙ†Ù’Ù‚ÙŽÙ„ÙØ¨ÙÙˆÙ†ÙŽØŒ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙŽÙ‘Ø§ Ù†ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ ÙÙÙŠ Ø³ÙŽÙÙŽØ±ÙÙ†ÙŽØ§ Ù‡ÙŽØ°ÙŽØ§ Ø§Ù„Ù’Ø¨ÙØ±ÙŽÙ‘ ÙˆÙŽØ§Ù„ØªÙŽÙ‘Ù‚Ù’ÙˆÙŽÙ‰ØŒ ÙˆÙŽÙ…ÙÙ†ÙŽ Ø§Ù„Ù’Ø¹ÙŽÙ…ÙŽÙ„Ù Ù…ÙŽØ§ ØªÙŽØ±Ù’Ø¶ÙŽÙ‰',
                    translation: 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ø°ÙŠ Ø³Ø®Ø± Ù„Ù†Ø§ Ù‡Ø°Ø§ ÙˆÙ…Ø§ ÙƒÙ†Ø§ Ù„Ù‡ Ù…Ù‚Ø±Ù†ÙŠÙ†...',
                    source: 'Ù…Ø³Ù„Ù… ÙˆØ§Ù„ØªØ±Ù…Ø°ÙŠ'
                },
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù…Ø·Ø±',
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØµÙŽÙŠÙÙ‘Ø¨Ù‹Ø§ Ù†ÙŽØ§ÙÙØ¹Ù‹Ø§',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… ØµÙŠØ¨Ø§Ù‹ Ù†Ø§ÙØ¹Ø§Ù‹ - Ø£ÙŠ Ù…Ø·Ø±Ø§Ù‹ Ù†Ø§ÙØ¹Ø§Ù‹',
                    source: 'Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ'
                },
                {
                    title: 'Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†',
                    text: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù„ÙŽØ§ Ø³ÙŽÙ‡Ù’Ù„ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ù…ÙŽØ§ Ø¬ÙŽØ¹ÙŽÙ„Ù’ØªÙŽÙ‡Ù Ø³ÙŽÙ‡Ù’Ù„Ù‹Ø§ØŒ ÙˆÙŽØ£ÙŽÙ†Ù’ØªÙŽ ØªÙŽØ¬Ù’Ø¹ÙŽÙ„Ù Ø§Ù„Ù’Ø­ÙŽØ²Ù’Ù†ÙŽ Ø¥ÙØ°ÙŽØ§ Ø´ÙØ¦Ù’ØªÙŽ Ø³ÙŽÙ‡Ù’Ù„Ù‹Ø§',
                    translation: 'Ø§Ù„Ù„Ù‡Ù… Ù„Ø§ Ø³Ù‡Ù„ Ø¥Ù„Ø§ Ù…Ø§ Ø¬Ø¹Ù„ØªÙ‡ Ø³Ù‡Ù„Ø§Ù‹',
                    source: 'Ø§Ø¨Ù† Ø­Ø¨Ø§Ù†'
                }
            ]
        };

        function showDuaaCategory(category) {
            // Update active button - FIXED
            document.querySelectorAll('.duaa-category-btn').forEach(btn => btn.classList.remove('active'));
            
            // Find and activate the button for this category
            const buttons = document.querySelectorAll('.duaa-category-btn');
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick') && btn.getAttribute('onclick').includes(`'${category}'`)) {
                    btn.classList.add('active');
                }
            });
            
            const container = document.getElementById('duaa-content');
            if (!container) {
                console.error('Duaa container not found');
                return;
            }
            
            container.innerHTML = '';
            
            const duaas = duaaData[category];
            if (!duaas) {
                console.error('No duaa data for category:', category);
                return;
            }
            
            duaas.forEach(duaa => {
                const card = document.createElement('div');
                card.className = 'duaa-card';
                card.innerHTML = `
                    <div class="duaa-title">${duaa.title}</div>
                    <div class="duaa-text">${duaa.text}</div>
                    <div class="duaa-translation">${duaa.translation}</div>
                    <div class="duaa-source">Ø§Ù„Ù…ØµØ¯Ø±: ${duaa.source}</div>
                    <div class="duaa-actions">
                        <button class="duaa-action-btn" onclick="copyDuaa(\`${duaa.text}\`)">ðŸ“‹ Ù†Ø³Ø®</button>
                        <button class="duaa-action-btn" onclick="shareDuaa(\`${duaa.title}\`, \`${duaa.text}\`)">ðŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function copyDuaa(text) {
            copyToClipboard(text);
        }

        function shareDuaa(title, text) {
            const shareText = `${title}\n\n${text}\n\nðŸ¤² Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ ÙƒØ±ÙŠÙ…`;
            
            if (navigator.share) {
                navigator.share({
                    title: title,
                    text: shareText
                }).then(() => {
                    showNotification('âœ… ØªÙ… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­');
                }).catch(() => {
                    copyToClipboard(shareText);
                });
            } else {
                copyToClipboard(shareText);
            }
        }

        // Allah's 99 Names
        const allahNames = [
            {arabic: 'Ø§Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…ÙŽÙ†', translation: 'Ø§Ù„Ø±Ø­Ù…Ù† - Ø§Ù„Ø±Ø­ÙŠÙ…'},
            {arabic: 'Ø§Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ…', translation: 'ÙˆØ§Ø³Ø¹ Ø§Ù„Ø±Ø­Ù…Ø©'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙŽÙ„ÙÙƒ', translation: 'Ø§Ù„Ù…Ø§Ù„Ùƒ Ù„ÙƒÙ„ Ø´ÙŠØ¡'},
            {arabic: 'Ø§Ù„Ù’Ù‚ÙØ¯ÙÙ‘ÙˆØ³', translation: 'Ø§Ù„Ù…Ù†Ø²Ù‡ Ø¹Ù† Ø§Ù„Ø¹ÙŠÙˆØ¨'},
            {arabic: 'Ø§Ù„Ø³ÙŽÙ‘Ù„Ø§ÙŽÙ…', translation: 'Ø§Ù„Ø³Ø§Ù„Ù… Ù…Ù† Ø§Ù„Ù†Ù‚Ø§Ø¦Øµ'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†', translation: 'Ø§Ù„Ù…ØµØ¯Ù‚ Ù„Ø±Ø³Ù„Ù‡'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙÙ‡ÙŽÙŠÙ’Ù…ÙÙ†', translation: 'Ø§Ù„Ø±Ù‚ÙŠØ¨ Ø§Ù„Ø­Ø§ÙØ¸'},
            {arabic: 'Ø§Ù„Ù’Ø¹ÙŽØ²ÙÙŠØ²', translation: 'Ø§Ù„Ù‚ÙˆÙŠ Ø§Ù„ØºØ§Ù„Ø¨'},
            {arabic: 'Ø§Ù„Ù’Ø¬ÙŽØ¨ÙŽÙ‘Ø§Ø±', translation: 'Ø§Ù„Ù‚Ø§Ù‡Ø± Ø§Ù„Ø¹Ø¸ÙŠÙ…'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØªÙŽÙƒÙŽØ¨ÙÙ‘Ø±', translation: 'Ø§Ù„Ù…ØªØ¹Ø§Ù„ÙŠ Ø¹Ù† Ø§Ù„Ø®Ù„Ù‚'},
            {arabic: 'Ø§Ù„Ù’Ø®ÙŽØ§Ù„ÙÙ‚', translation: 'Ø§Ù„Ù…Ø¨Ø¯Ø¹ Ø§Ù„Ù…ØµÙˆØ±'},
            {arabic: 'Ø§Ù„Ù’Ø¨ÙŽØ§Ø±ÙØ¦', translation: 'Ø§Ù„Ù…ÙˆØ¬Ø¯ Ù…Ù† Ø§Ù„Ø¹Ø¯Ù…'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØµÙŽÙˆÙÙ‘Ø±', translation: 'Ø§Ù„Ù…Ø´ÙƒÙ„ Ø¹Ù„Ù‰ ØµÙˆØ±'},
            {arabic: 'Ø§Ù„Ù’ØºÙŽÙÙŽÙ‘Ø§Ø±', translation: 'ÙƒØ«ÙŠØ± Ø§Ù„Ù…ØºÙØ±Ø©'},
            {arabic: 'Ø§Ù„Ù’Ù‚ÙŽÙ‡ÙŽÙ‘Ø§Ø±', translation: 'Ø§Ù„ØºØ§Ù„Ø¨ Ø§Ù„Ù‚Ø§Ù‡Ø±'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽÙ‡ÙŽÙ‘Ø§Ø¨', translation: 'ÙƒØ«ÙŠØ± Ø§Ù„Ø¹Ø·Ø§Ø¡'},
            {arabic: 'Ø§Ù„Ø±ÙŽÙ‘Ø²ÙŽÙ‘Ø§Ù‚', translation: 'Ø®Ø§Ù„Ù‚ Ø§Ù„Ø£Ø±Ø²Ø§Ù‚'},
            {arabic: 'Ø§Ù„Ù’ÙÙŽØªÙŽÙ‘Ø§Ø­', translation: 'Ø§Ù„Ø­Ø§ÙƒÙ… Ø¨Ø§Ù„Ø­Ù‚'},
            {arabic: 'Ø§Ù„Ù’Ø¹ÙŽÙ„ÙÙŠÙ…', translation: 'Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨ÙƒÙ„ Ø´ÙŠØ¡'},
            {arabic: 'Ø§Ù„Ù’Ù‚ÙŽØ§Ø¨ÙØ¶', translation: 'Ø§Ù„Ù…Ù…Ø³Ùƒ Ø§Ù„Ø±Ø§Ø²Ù‚'},
            {arabic: 'Ø§Ù„Ù’Ø¨ÙŽØ§Ø³ÙØ·', translation: 'Ø§Ù„Ù…ÙˆØ³Ø¹ Ø§Ù„Ø¹Ø·Ø§Ø¡'},
            {arabic: 'Ø§Ù„Ù’Ø®ÙŽØ§ÙÙØ¶', translation: 'Ø§Ù„Ù…Ø°Ù„ Ø§Ù„Ù‚Ø§Ù‡Ø±'},
            {arabic: 'Ø§Ù„Ø±ÙŽÙ‘Ø§ÙÙØ¹', translation: 'Ø±Ø§ÙØ¹ Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ¹ÙØ²', translation: 'Ù…Ø¹Ø·ÙŠ Ø§Ù„Ø¹Ø²'},
            {arabic: 'Ø§Ù„Ù…ÙØ°ÙÙ„', translation: 'Ø®Ø§ÙØ¶ Ø§Ù„Ø¬Ø¨Ø§Ø±ÙŠÙ†'},
            {arabic: 'Ø§Ù„Ø³ÙŽÙ‘Ù…ÙÙŠØ¹', translation: 'Ø§Ù„Ø³Ø§Ù…Ø¹ Ù„ÙƒÙ„ Ø´ÙŠØ¡'},
            {arabic: 'Ø§Ù„Ù’Ø¨ÙŽØµÙÙŠØ±', translation: 'Ø§Ù„Ø±Ø§Ø¦ÙŠ Ù„ÙƒÙ„ Ø´ÙŠØ¡'},
            {arabic: 'Ø§Ù„Ù’Ø­ÙŽÙƒÙŽÙ…', translation: 'Ø§Ù„Ù‚Ø§Ø¶ÙŠ Ø§Ù„Ø­Ø§ÙƒÙ…'},
            {arabic: 'Ø§Ù„Ù’Ø¹ÙŽØ¯Ù’Ù„', translation: 'Ø§Ù„Ù…Ù†ØµÙ Ø§Ù„Ø­ÙƒÙŠÙ…'},
            {arabic: 'Ø§Ù„Ù„ÙŽÙ‘Ø·ÙÙŠÙ', translation: 'Ø§Ù„Ø±ÙÙŠÙ‚ Ø¨Ø¹Ø¨Ø§Ø¯Ù‡'},
            {arabic: 'Ø§Ù„Ù’Ø®ÙŽØ¨ÙÙŠØ±', translation: 'Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø§Ù„Ø³Ø±Ø§Ø¦Ø±'},
            {arabic: 'Ø§Ù„Ù’Ø­ÙŽÙ„ÙÙŠÙ…', translation: 'Ø§Ù„ØµØ¨ÙˆØ± Ø§Ù„Ø¹ÙÙˆ'},
            {arabic: 'Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ…', translation: 'Ø§Ù„ÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø£Ù†'},
            {arabic: 'Ø§Ù„Ù’ØºÙŽÙÙÙˆØ±', translation: 'Ø§Ù„Ø³Ø§ØªØ± Ù„Ù„Ø°Ù†ÙˆØ¨'},
            {arabic: 'Ø§Ù„Ø´ÙŽÙ‘ÙƒÙÙˆØ±', translation: 'Ø§Ù„Ù…Ø«ÙŠØ¨ Ø§Ù„Ø­Ø§Ù…Ø¯'},
            {arabic: 'Ø§Ù„Ù’Ø¹ÙŽÙ„ÙÙŠ', translation: 'Ø§Ù„Ø±ÙÙŠØ¹ Ø§Ù„Ù‚Ø¯Ø±'},
            {arabic: 'Ø§Ù„Ù’ÙƒÙŽØ¨ÙÙŠØ±', translation: 'Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„Ø¬Ù„ÙŠÙ„'},
            {arabic: 'Ø§Ù„Ù’Ø­ÙŽÙÙÙŠØ¸', translation: 'Ø§Ù„Ø­Ø§ÙØ¸ Ù„Ø®Ù„Ù‚Ù‡'},
            {arabic: 'Ø§Ù„Ù…ÙÙ‚ÙŠØª', translation: 'Ø®Ø§Ù„Ù‚ Ø§Ù„Ø£Ù‚ÙˆØ§Øª'},
            {arabic: 'Ø§Ù„Ù’Ø­Ø³ÙÙŠØ¨', translation: 'Ø§Ù„ÙƒØ§ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨'},
            {arabic: 'Ø§Ù„Ù’Ø¬ÙŽÙ„ÙÙŠÙ„', translation: 'Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„Ù…Ù‡ÙŠØ¨'},
            {arabic: 'Ø§Ù„Ù’ÙƒÙŽØ±ÙÙŠÙ…', translation: 'ÙƒØ«ÙŠØ± Ø§Ù„Ø®ÙŠØ±'},
            {arabic: 'Ø§Ù„Ø±ÙŽÙ‘Ù‚ÙÙŠØ¨', translation: 'Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø­Ø§ÙØ¸'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ¬ÙÙŠØ¨', translation: 'Ù…Ø¬ÙŠØ¨ Ø§Ù„Ø¯Ø¹Ø§Ø¡'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽØ§Ø³ÙØ¹', translation: 'ÙˆØ§Ø³Ø¹ Ø§Ù„Ø±Ø­Ù…Ø©'},
            {arabic: 'Ø§Ù„Ù’Ø­ÙŽÙƒÙÙŠÙ…', translation: 'Ø§Ù„Ù…Ø­ÙƒÙ… Ø§Ù„Ø¹Ù„ÙŠÙ…'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽØ¯ÙÙˆØ¯', translation: 'Ø§Ù„Ù…Ø­Ø¨ Ø§Ù„Ù…Ø­Ø¨ÙˆØ¨'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙŽØ¬ÙÙŠØ¯', translation: 'Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„ÙƒØ±ÙŠÙ…'},
            {arabic: 'Ø§Ù„Ù’Ø¨ÙŽØ§Ø¹ÙØ«', translation: 'Ø§Ù„Ø¨Ø§Ø¹Ø« Ù„Ù„Ø®Ù„Ù‚'},
            {arabic: 'Ø§Ù„Ø´ÙŽÙ‘Ù‡ÙÙŠØ¯', translation: 'Ø§Ù„Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù…Ø·Ù„Ø¹'},
            {arabic: 'Ø§Ù„Ù’Ø­ÙŽÙ‚', translation: 'Ø§Ù„Ø«Ø§Ø¨Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽÙƒÙÙŠÙ„', translation: 'Ø§Ù„ÙƒÙÙŠÙ„ Ø§Ù„Ø­Ø§ÙØ¸'},
            {arabic: 'Ø§Ù„Ù’Ù‚ÙŽÙˆÙÙŠ', translation: 'Ø§Ù„Ø´Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¯Ø±'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙŽØªÙÙŠÙ†', translation: 'Ø§Ù„Ù‚ÙˆÙŠ Ø§Ù„Ø«Ø§Ø¨Øª'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽÙ„ÙÙŠ', translation: 'Ø§Ù„Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¹ÙŠÙ†'},
            {arabic: 'Ø§Ù„Ù’Ø­ÙŽÙ…ÙÙŠØ¯', translation: 'Ø§Ù„Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ù…Ù…Ø¬Ø¯'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ­Ù’ØµÙÙŠ', translation: 'Ø§Ù„Ù…Ø­ÙŠØ· Ø¹Ù„Ù…Ø§Ù‹'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ¨Ù’Ø¯ÙØ¦', translation: 'Ø§Ù„Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ø®Ø§Ù„Ù‚'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ¹ÙÙŠØ¯', translation: 'Ø§Ù„Ù…Ø¹ÙŠØ¯ Ù„Ù„Ø®Ù„Ù‚'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ­Ù’ÙŠÙÙŠ', translation: 'Ø®Ø§Ù„Ù‚ Ø§Ù„Ø­ÙŠØ§Ø©'},
            {arabic: 'Ø§ÙŽÙ„Ù’Ù…ÙÙ…ÙÙŠØª', translation: 'Ø®Ø§Ù„Ù‚ Ø§Ù„Ù…ÙˆØª'},
            {arabic: 'Ø§Ù„Ù’Ø­ÙŽÙŠ', translation: 'Ø§Ù„Ø­ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ù…'},
            {arabic: 'Ø§Ù„Ù’Ù‚ÙŽÙŠÙÙ‘ÙˆÙ…', translation: 'Ø§Ù„Ù‚Ø§Ø¦Ù… Ø¨Ù†ÙØ³Ù‡'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽØ§Ø¬ÙØ¯', translation: 'Ø§Ù„ØºÙ†ÙŠ Ø§Ù„ÙˆØ§Ø¬Ø¯'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙŽØ§Ø¬ÙØ¯', translation: 'Ø§Ù„Ù…Ø¬ÙŠØ¯ Ø§Ù„ÙƒØ±ÙŠÙ…'},
            {arabic: 'Ø§Ù„Ù’ÙˆØ§Ø­ÙØ¯', translation: 'Ø§Ù„Ø£Ø­Ø¯ Ø§Ù„ÙØ±Ø¯'},
            {arabic: 'Ø§ÙŽÙ„Ø§ÙŽØ­ÙŽØ¯', translation: 'Ø§Ù„ÙˆØ§Ø­Ø¯ Ø§Ù„Ø£Ø­Ø¯'},
            {arabic: 'Ø§Ù„ØµÙŽÙ‘Ù…ÙŽØ¯', translation: 'Ø§Ù„Ø³ÙŠØ¯ Ø§Ù„Ù…Ù‚ØµÙˆØ¯'},
            {arabic: 'Ø§Ù„Ù’Ù‚ÙŽØ§Ø¯ÙØ±', translation: 'Ø§Ù„Ù‚ÙˆÙŠ Ø§Ù„Ù…Ù‚ØªØ¯Ø±'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙÙ‚Ù’ØªÙŽØ¯ÙØ±', translation: 'Ø§Ù„ØªØ§Ù… Ø§Ù„Ù‚Ø¯Ø±Ø©'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙÙ‚ÙŽØ¯ÙÙ‘Ù…', translation: 'Ø§Ù„Ù…Ø¹Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø²Ø²'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØ¤ÙŽØ®ÙÙ‘Ø±', translation: 'Ø§Ù„Ù…Ø°Ù„ Ø§Ù„Ø®Ø§ÙØ¶'},
            {arabic: 'Ø§Ù„Ø£ÙˆÙŽÙ‘Ù„', translation: 'Ø§Ù„Ø£ÙˆÙ„ Ù‚Ø¨Ù„ ÙƒÙ„ Ø´ÙŠØ¡'},
            {arabic: 'Ø§Ù„Ø¢Ø®ÙØ±', translation: 'Ø§Ù„Ø¨Ø§Ù‚ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø®Ù„Ù‚'},
            {arabic: 'Ø§Ù„Ø¸ÙŽÙ‘Ø§Ù‡ÙØ±', translation: 'Ø§Ù„Ø¸Ø§Ù‡Ø± Ø§Ù„ÙˆØ§Ø¶Ø­'},
            {arabic: 'Ø§Ù„Ù’Ø¨ÙŽØ§Ø·ÙÙ†', translation: 'Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø§Ù„Ø®ÙØ§ÙŠØ§'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽØ§Ù„ÙÙŠ', translation: 'Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…ØªØµØ±Ù'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØªÙŽØ¹ÙŽØ§Ù„ÙÙŠ', translation: 'Ø§Ù„Ù…ØªØ¹Ø§Ù„ÙŠ Ø§Ù„Ù…ØªÙ†Ø²Ù‡'},
            {arabic: 'Ø§Ù„Ù’Ø¨ÙŽØ±', translation: 'Ø§Ù„Ù…Ø­Ø³Ù† Ø§Ù„Ø¬ÙˆØ§Ø¯'},
            {arabic: 'Ø§Ù„ØªÙŽÙ‘ÙˆÙŽØ§Ø¨', translation: 'Ù‚Ø§Ø¨Ù„ Ø§Ù„ØªÙˆØ¨Ø©'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙÙ†Ù’ØªÙŽÙ‚ÙÙ…', translation: 'Ø§Ù„Ù…Ø¹Ø§Ù‚Ø¨ Ù„Ù„Ø¹ØµØ§Ø©'},
            {arabic: 'Ø§Ù„Ø¹ÙŽÙÙÙˆ', translation: 'Ø§Ù„ØµÙÙˆØ­ Ø§Ù„ØºÙÙˆØ±'},
            {arabic: 'Ø§Ù„Ø±ÙŽÙ‘Ø¤ÙÙˆÙ', translation: 'Ø§Ù„Ø±Ø­ÙŠÙ… Ø§Ù„Ù„Ø·ÙŠÙ'},
            {arabic: 'Ù…ÙŽØ§Ù„ÙÙƒÙ Ø§Ù„Ù’Ù…ÙÙ„Ù’Ùƒ', translation: 'Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…Ù„Ùƒ ÙƒÙ„Ù‡'},
            {arabic: 'Ø°ÙÙˆØ§Ù„Ù’Ø¬ÙŽÙ„Ø§ÙŽÙ„Ù ÙˆÙŽØ§Ù„Ø¥ÙƒÙ’Ø±ÙŽØ§Ù…', translation: 'ØµØ§Ø­Ø¨ Ø§Ù„Ø¬Ù„Ø§Ù„'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙÙ‚Ù’Ø³ÙØ·', translation: 'Ø§Ù„Ø¹Ø§Ø¯Ù„ Ø§Ù„Ù…Ù†ØµÙ'},
            {arabic: 'Ø§Ù„Ù’Ø¬ÙŽØ§Ù…ÙØ¹', translation: 'Ø§Ù„Ø¬Ø§Ù…Ø¹ Ù„Ù„Ø®Ù„Ù‚'},
            {arabic: 'Ø§Ù„Ù’ØºÙŽÙ†ÙÙŠ', translation: 'Ø§Ù„ØºÙ†ÙŠ Ø§Ù„Ù…Ø³ØªØºÙ†ÙŠ'},
            {arabic: 'Ø§Ù„Ù’Ù…ÙØºÙ’Ù†ÙÙŠ', translation: 'Ø§Ù„Ù…Ø¹Ø·ÙŠ Ø§Ù„Ø±Ø²Ø§Ù‚'},
            {arabic: 'Ø§ÙŽÙ„Ù’Ù…ÙŽØ§Ù†ÙØ¹Ù', translation: 'Ø§Ù„Ù…Ø§Ù†Ø¹ Ø§Ù„Ø­Ø§ÙØ¸'},
            {arabic: 'Ø§Ù„Ø¶ÙŽÙ‘Ø§Ø±', translation: 'Ø§Ù„Ø®Ø§ÙØ¶ Ø§Ù„Ù…Ø°Ù„'},
            {arabic: 'Ø§Ù„Ù†ÙŽÙ‘Ø§ÙÙØ¹', translation: 'Ø§Ù„Ø±Ø§ÙØ¹ Ø§Ù„Ù†Ø§ÙØ¹'},
            {arabic: 'Ø§Ù„Ù†ÙÙ‘ÙˆØ±', translation: 'Ø§Ù„Ù‡Ø§Ø¯ÙŠ Ø§Ù„Ù…Ø±Ø´Ø¯'},
            {arabic: 'Ø§Ù„Ù’Ù‡ÙŽØ§Ø¯ÙÙŠ', translation: 'Ø§Ù„Ø¯Ø§Ù„ Ø§Ù„Ù…ÙˆÙÙ‚'},
            {arabic: 'Ø§Ù„Ù’Ø¨ÙŽØ¯ÙÙŠØ¹Ù', translation: 'Ø§Ù„Ù…Ø¨Ø¯Ø¹ Ø§Ù„Ø®Ø§Ù„Ù‚'},
            {arabic: 'Ø§ÙŽÙ„Ù’Ø¨ÙŽØ§Ù‚ÙÙŠ', translation: 'Ø§Ù„Ø¯Ø§Ø¦Ù… Ø§Ù„Ø¨Ø§Ù‚ÙŠ'},
            {arabic: 'Ø§Ù„Ù’ÙˆÙŽØ§Ø±ÙØ«', translation: 'Ø§Ù„Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆØ§Ø±Ø«'},
            {arabic: 'Ø§Ù„Ø±ÙŽÙ‘Ø´ÙÙŠØ¯', translation: 'Ø§Ù„Ù…Ø±Ø´Ø¯ Ø§Ù„Ù‡Ø§Ø¯ÙŠ'},
            {arabic: 'Ø§Ù„ØµÙŽÙ‘Ø¨ÙÙˆØ±', translation: 'Ø§Ù„Ø­Ù„ÙŠÙ… Ø§Ù„Ù…ØªØ£Ù†ÙŠ'}
        ];

        function displayAllahNames() {
            const grid = document.getElementById('names-grid');
            if (!grid) return;
            
            grid.innerHTML = '';
            const memorizedNames = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
            
            allahNames.forEach((name, index) => {
                const card = document.createElement('div');
                card.className = 'name-card';
                if (memorizedNames[index]) {
                    card.classList.add('memorized');
                }
                
                card.onclick = () => toggleNameMemorization(index);
                
                card.innerHTML = `
                    <div class="name-arabic">${name.arabic}</div>
                    <div class="name-translation">${name.translation}</div>
                `;
                
                grid.appendChild(card);
            });
            
            updateNamesCount();
        }

        function toggleNameMemorization(index) {
            let memorizedNames = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
            
            if (memorizedNames[index]) {
                delete memorizedNames[index];
            } else {
                memorizedNames[index] = true;
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            }
            
            // CRITICAL: Save immediately with double verification
            localStorage.setItem('memorizedNames', JSON.stringify(memorizedNames));
            setTimeout(() => {
                localStorage.setItem('memorizedNames', JSON.stringify(memorizedNames));
            }, 100);
            
            displayAllahNames();
            updateTaqwaMeter(); // Update Taqwa meter
            updateAchievements(); // Check achievements
            updateStatistics(); // Update stats
        }

        function updateNamesCount() {
            const memorizedNames = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
            const count = Object.keys(memorizedNames).length;
            document.getElementById('names-memorized').textContent = count;
        }

        // Auto-save all changes
        function autoSave() {
            // Save current tab
            const activeTab = document.querySelector('.tab-btn.active');
            if (activeTab) {
                localStorage.setItem('lastActiveTab', activeTab.dataset.tab);
            }
        }

        // Auto-save every 2 seconds
        setInterval(autoSave, 2000);

        // Restore last tab on load
        function restoreLastTab() {
            const lastTab = localStorage.getItem('lastActiveTab');
            if (lastTab) {
                const tabBtn = document.querySelector(`[data-tab="${lastTab}"]`);
                if (tabBtn) {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    tabBtn.classList.add('active');
                    document.getElementById(lastTab).classList.add('active');
                }
            }
        }

        // Welcome Modal Functions - REMOVED, direct browser request instead
        function requestLocationPermission() {
            // This will trigger the browser's native location permission prompt
            getPrayerTimes();
        }

        // Hijri Date Function
        function updateHijriDate(hijri, gregorian) {
            const hijriDateText = `ðŸ“… ${hijri.day} ${hijri.month.ar} ${hijri.year} Ù‡Ù€ - ${gregorian.day} ${getArabicMonthName(gregorian.month.number)} ${gregorian.year} Ù…`;
            document.getElementById('hijri-date').textContent = hijriDateText;
            localStorage.setItem('hijriDate', hijriDateText);
        }

        async function getHijriDate() {
            // Try to load from cache first
            const cachedHijri = localStorage.getItem('hijriDate');
            if (cachedHijri) {
                document.getElementById('hijri-date').textContent = cachedHijri;
            }
            
            try {
                const today = new Date();
                const dateStr = `${today.getDate()}-${today.getMonth() + 1}-${today.getFullYear()}`;
                const response = await fetch(`https://api.aladhan.com/v1/gToH/${dateStr}`);
                const data = await response.json();
                
                if (data.code === 200) {
                    const hijri = data.data.hijri;
                    const gregorian = data.data.gregorian;
                    updateHijriDate(hijri, gregorian);
                }
            } catch (error) {
                console.error('Error fetching Hijri date:', error);
                if (!cachedHijri) {
                    document.getElementById('hijri-date').textContent = 'ðŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ';
                }
            }
        }

        function getArabicMonthName(monthNumber) {
            const months = ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø¥Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ', 'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'];
            return months[monthNumber - 1];
        }

        // Prayer Tracker Functions
        // Prayer Tracker Functions - FIXED VERSION
        function setupPrayerTrackerEvents() {
            console.log('ðŸ”§ Setting up prayer tracker events...');
            const prayers = ['fajr', 'dhuhr', 'asr', 'maghrib', 'isha'];
            
            prayers.forEach(prayer => {
                const checkbox = document.getElementById(`check-${prayer}`);
                if (checkbox) {
                    checkbox.addEventListener('change', function(e) {
                        console.log(`ðŸ“ ${prayer} changed to:`, this.checked);
                        savePrayerImmediately(prayer, this.checked);
                    });
                    console.log(`âœ… Event attached to ${prayer}`);
                }
            });
        }

        function savePrayerImmediately(prayer, checked) {
            const today = new Date().toDateString();
            let trackerData = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            
            if (!trackerData[today]) {
                trackerData[today] = {};
            }
            
            trackerData[today][prayer] = checked;
            
            // Save NOW
            localStorage.setItem('prayerTracker', JSON.stringify(trackerData));
            console.log('ðŸ’¾ SAVED:', prayer, '=', checked);
            console.log('ðŸ“¦ Full data:', trackerData);
            
            // Update UI
            const card = document.querySelector(`.tracker-prayer-card[data-prayer="${prayer}"]`);
            if (card) {
                if (checked) {
                    card.classList.add('completed');
                    if (navigator.vibrate) navigator.vibrate(50);
                } else {
                    card.classList.remove('completed');
                }
            }
            
            updateTrackerStats();
            if (typeof updateTaqwaMeter === 'function') updateTaqwaMeter();
            if (typeof updateAchievements === 'function') updateAchievements();
            if (typeof updateStatistics === 'function') updateStatistics();
        }

        function loadTrackerData() {
            console.log('ðŸ“– Loading tracker data...');
            const today = new Date().toDateString();
            const saved = localStorage.getItem('prayerTracker');
            
            if (!saved) {
                console.log('âš ï¸ No saved data');
                updateTrackerStats();
                return;
            }
            
            const trackerData = JSON.parse(saved);
            const todayData = trackerData[today] || {};
            console.log('ðŸ“… Today:', today);
            console.log('ðŸ“¦ Data:', todayData);
            
            const prayers = ['fajr', 'dhuhr', 'asr', 'maghrib', 'isha'];
            prayers.forEach(prayer => {
                const checkbox = document.getElementById(`check-${prayer}`);
                const card = document.querySelector(`.tracker-prayer-card[data-prayer="${prayer}"]`);
                
                if (checkbox && todayData[prayer] === true) {
                    checkbox.checked = true;
                    if (card) card.classList.add('completed');
                    console.log(`âœ… Restored: ${prayer} = checked`);
                } else if (checkbox) {
                    checkbox.checked = false;
                    if (card) card.classList.remove('completed');
                }
            });
            
            updateTrackerStats();
        }

        function getPrayerNameArabic(prayer) {
            const names = {
                'fajr': 'Ø§Ù„ÙØ¬Ø±',
                'dhuhr': 'Ø§Ù„Ø¸Ù‡Ø±',
                'asr': 'Ø§Ù„Ø¹ØµØ±',
                'maghrib': 'Ø§Ù„Ù…ØºØ±Ø¨',
                'isha': 'Ø§Ù„Ø¹Ø´Ø§Ø¡'
            };
            return names[prayer];
        }

        function updateTrackerStats() {
            const today = new Date().toDateString();
            const trackerData = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            const todayData = trackerData[today] || {};
            
            // Count prayed
            let prayedCount = 0;
            Object.values(todayData).forEach(val => {
                if (val) prayedCount++;
            });
            
            document.getElementById('prayed-count').textContent = prayedCount;
            document.getElementById('remaining-count').textContent = 5 - prayedCount;
            
            // Calculate streak
            let streak = 0;
            const dates = Object.keys(trackerData).sort().reverse();
            for (let dateStr of dates) {
                const dayData = trackerData[dateStr];
                const completedCount = Object.values(dayData).filter(v => v).length;
                if (completedCount === 5) {
                    streak++;
                } else {
                    break;
                }
            }
            document.getElementById('streak-count').textContent = streak;
            
            // Update week grid
            updateWeekGrid(trackerData);
        }

        function updateWeekGrid(trackerData) {
            const weekGrid = document.getElementById('week-grid');
            weekGrid.innerHTML = '';
            
            const arabicDays = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toDateString();
                const dayData = trackerData[dateStr] || {};
                const completedCount = Object.values(dayData).filter(v => v).length;
                
                const dayCard = document.createElement('div');
                dayCard.className = 'day-card';
                if (completedCount === 5) {
                    dayCard.classList.add('full-day');
                }
                
                const dayName = arabicDays[date.getDay()];
                const dayDate = `${date.getDate()}/${date.getMonth() + 1}`;
                
                dayCard.innerHTML = `
                    <div class="day-name">${dayName}</div>
                    <div class="day-date">${dayDate}</div>
                    <div class="day-count">${completedCount}/5</div>
                `;
                
                weekGrid.appendChild(dayCard);
            }
        }

        function syncTrackerTimes(timings) {
            if (!timings) return;
            
            const prayerMap = {
                'Fajr': 'fajr',
                'Dhuhr': 'dhuhr',
                'Asr': 'asr',
                'Maghrib': 'maghrib',
                'Isha': 'isha'
            };
            
            Object.entries(prayerMap).forEach(([key, id]) => {
                const timeElement = document.getElementById(`tracker-${id}-time`);
                if (timeElement && timings[key]) {
                    timeElement.textContent = timings[key];
                }
            });
        }

        // Help Modal Functions
        function showHelpModal() {
            document.getElementById('help-modal').classList.add('active');
        }

        function closeHelpModal() {
            document.getElementById('help-modal').classList.remove('active');
        }

        async function useManualLocation() {
            const lat = parseFloat(document.getElementById('manual-lat').value);
            const lng = parseFloat(document.getElementById('manual-lng').value);

            if (isNaN(lat) || isNaN(lng)) {
                showNotification('âŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ØµØ­ÙŠØ­Ø©');
                return;
            }

            if (lat < -90 || lat > 90 || lng < -180 || lng > 180) {
                showNotification('âŒ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                return;
            }

            await fetchPrayerTimesForLocation(lat, lng, 'ÙŠØ¯ÙˆÙŠ');
        }

        function selectCity() {
            const select = document.getElementById('city-select');
            const value = select.value;
            
            if (!value) return;
            
            const [lat, lng] = value.split(',').map(parseFloat);
            const cityName = select.options[select.selectedIndex].text;
            
            fetchPrayerTimesForLocation(lat, lng, cityName);
        }

        async function fetchPrayerTimesForLocation(lat, lng, locationName) {
            closeHelpModal();
            
            const locationText = document.getElementById('location-text');
            locationText.innerHTML = `ðŸ“ ${locationName} (${lat.toFixed(4)}Â°, ${lng.toFixed(4)}Â°)`;

            // Calculate prayer times
            const date = new Date();
            const dateStr = `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;
            
            try {
                const url = `https://api.aladhan.com/v1/timings/${dateStr}?latitude=${lat}&longitude=${lng}&method=5`;
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.code === 200) {
                    const timings = data.data.timings;
                    displayPrayerTimes(timings);
                    
                    // Cache prayer times
                    localStorage.setItem('prayerTimes', JSON.stringify(timings));
                    localStorage.setItem('prayerTimesDate', dateStr);
                    localStorage.setItem('prayerLocation', `${locationName}`);
                    
                    showNotification('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­');
                }
            } catch (error) {
                showNotification('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©');
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            // Hide splash screen after 2.5 seconds
            setTimeout(() => {
                const splashScreen = document.getElementById('splash-screen');
                if (splashScreen) {
                    splashScreen.classList.add('hidden');
                }
            }, 2500);
            
            loadTheme();
            displaySurahs();
            displayAllahNames();
            showAdhkar('morning');
            showDuaaCategory('daily');
            getHijriDate();
            loadTrackerData();
            setupPrayerTrackerEvents(); // CRITICAL: Setup event listeners
            loadKhatmahProgress();
            restoreLastTab();
            updateAchievements();
            updateStatistics();
            
            // Show swipe hint on mobile
            if (window.innerWidth < 768) {
                setTimeout(() => {
                    const hint = document.createElement('div');
                    hint.className = 'swipe-hint';
                    hint.textContent = 'â† Ù…Ø±Ø± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª';
                    document.body.appendChild(hint);
                }, 3000);
            }
            
            // Show save info on first use
            if (!localStorage.getItem('hasSeenSaveInfo')) {
                setTimeout(() => {
                    showNotification('ðŸ’¡ Ù†ØµÙŠØ­Ø©: Ø§Ø¶ØºØ· Ø²Ø± ðŸ’¾ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ù„Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ ÙŠØ¯ÙˆÙŠØ§Ù‹');
                    localStorage.setItem('hasSeenSaveInfo', 'true');
                }, 5000);
            }
            
            // Log current saved data for debugging
            console.log('=== LOADED DATA ===');
            console.log('Prayer Tracker:', localStorage.getItem('prayerTracker'));
            console.log('Khatmah:', localStorage.getItem('khatmahProgress'));
            console.log('Names:', localStorage.getItem('memorizedNames'));
            console.log('==================');
            
            // Register Service Worker for PWA (optional - doesn't block functionality)
            if ('serviceWorker' in navigator) {
                // Don't block page load with service worker registration
                setTimeout(() => {
                    try {
                        navigator.serviceWorker.register('data:application/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgKGUpID0+IHsKICBjb25zb2xlLmxvZygnU2VydmljZSBXb3JrZXIgaW5zdGFsbGVkJyk7CiAgc2VsZi5za2lwV2FpdGluZygpOwp9KTsKCnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCAoZSkgPT4gewogIGNvbnNvbGUubG9nKCdTZXJ2aWNlIFdvcmtlciBhY3RpdmF0ZWQnKTsKfSk7CgpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgKGUpID0+IHsKICBlLnJlc3BvbmRXaXRoKAogICAgZmV0Y2goZS5yZXF1ZXN0KS5jYXRjaCgoKSA9PiB7CiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoJ09mZmxpbmUnLCB7IHN0YXR1czogNTAzIH0pOwogICAgfSkKICApOwp9KTs=')
                            .then(() => console.log('âœ… Service Worker ready'))
                            .catch(() => console.log('â„¹ï¸ Service Worker not available (normal for data: URLs)'));
                    } catch (e) {
                        // Service worker not critical, just log
                        console.log('â„¹ï¸ Service Worker not supported');
                    }
                }, 2000);
            }
            
            // Show install prompt for PWA
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                
                // Show install notification after 5 seconds
                setTimeout(() => {
                    if (deferredPrompt) {
                        showNotification('ðŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ«Ø¨ÙŠØª ÙƒØ±ÙŠÙ… ÙƒØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ!');
                        
                        // Auto-trigger install prompt
                        setTimeout(() => {
                            deferredPrompt.prompt();
                            deferredPrompt.userChoice.then((choiceResult) => {
                                if (choiceResult.outcome === 'accepted') {
                                    showNotification('âœ… Ø´ÙƒØ±Ø§Ù‹! ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚');
                                }
                                deferredPrompt = null;
                            });
                        }, 3000);
                    }
                }, 5000);
            });
            
            // Request notification permission for prayer alerts
            if ('Notification' in window && Notification.permission === 'default') {
                setTimeout(() => {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            showNotification('âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ØµÙ„Ø§Ø©');
                        }
                    });
                }, 3000);
            }
            
            // Check for cached prayer times first
            const cachedTimes = localStorage.getItem('prayerTimes');
            if (cachedTimes) {
                const cachedDate = localStorage.getItem('prayerTimesDate');
                const today = new Date();
                const todayStr = `${today.getDate()}-${today.getMonth() + 1}-${today.getFullYear()}`;
                
                if (cachedDate === todayStr) {
                    displayPrayerTimes(JSON.parse(cachedTimes));
                    const cachedLocationName = localStorage.getItem('locationName');
                    if (cachedLocationName) {
                        document.getElementById('location-text').innerHTML = `ðŸ“ ${cachedLocationName} (Ù…Ø­ÙÙˆØ¸)`;
                    }
                }
            }
            
            // CRITICAL: Request location permission immediately - this triggers browser native prompt
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    async (position) => {
                        // Success - get prayer times
                        const { latitude, longitude } = position.coords;
                        
                        // Get city name
                        try {
                            const geoResponse = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json&accept-language=ar`);
                            const geoData = await geoResponse.json();
                            
                            const city = geoData.address.city || geoData.address.town || geoData.address.village || geoData.address.state || '';
                            const country = geoData.address.country || '';
                            const locationName = `${city}, ${country}`;
                            
                            document.getElementById('location-text').innerHTML = `ðŸ“ ${locationName}`;
                            localStorage.setItem('locationName', locationName);
                        } catch (error) {
                            document.getElementById('location-text').innerHTML = `ðŸ“ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ`;
                        }
                        
                        const date = new Date();
                        const dateStr = `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;
                        
                        try {
                            const url = `https://api.aladhan.com/v1/timings/${dateStr}?latitude=${latitude}&longitude=${longitude}&method=5`;
                            const response = await fetch(url);
                            const data = await response.json();
                            
                            if (data.code === 200) {
                                const timings = data.data.timings;
                                displayPrayerTimes(timings);
                                localStorage.setItem('prayerTimes', JSON.stringify(timings));
                                localStorage.setItem('prayerTimesDate', dateStr);
                                localStorage.setItem('prayerLocation', `${latitude},${longitude}`);
                                
                                // Update Hijri date
                                if (data.data.date && data.data.date.hijri) {
                                    updateHijriDate(data.data.date.hijri, data.data.date.gregorian);
                                }
                                
                                showNotification('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­');
                            }
                        } catch (error) {
                            console.error('Error fetching prayer times:', error);
                        }
                    },
                    (error) => {
                        // Error - show message
                        console.error('Geolocation error:', error);
                        let errorMsg = 'âŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­';
                        if (error.code === 1) {
                            errorMsg = 'âŒ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù† - ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹';
                        }
                        document.getElementById('location-text').innerHTML = errorMsg;
                        showNotification(errorMsg);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            }
        });

        // Save all data before page unload to prevent data loss
        window.addEventListener('beforeunload', () => {
            // Force save all critical data
            console.log('Saving all data...');
            
            // Get all current data
            const allData = {
                prayerTracker: localStorage.getItem('prayerTracker'),
                khatmahProgress: localStorage.getItem('khatmahProgress'),
                memorizedNames: localStorage.getItem('memorizedNames'),
                theme: localStorage.getItem('theme'),
                lastActiveTab: localStorage.getItem('lastActiveTab'),
                prayerTimes: localStorage.getItem('prayerTimes'),
                locationName: localStorage.getItem('locationName'),
                hijriDate: localStorage.getItem('hijriDate')
            };
            
            // Save backup
            localStorage.setItem('backup_' + Date.now(), JSON.stringify(allData));
            
            // Re-save everything
            Object.keys(allData).forEach(key => {
                if (allData[key]) {
                    localStorage.setItem(key, allData[key]);
                }
            });
        });

        // Manual save function - callable by user
        function manualSaveAll() {
            const saveBtn = document.querySelector('.manual-save-btn');
            saveBtn.classList.add('saving');
            
            console.log('=== MANUAL SAVE INITIATED ===');
            
            // Save all data
            const criticalData = {
                prayerTracker: localStorage.getItem('prayerTracker'),
                khatmahProgress: localStorage.getItem('khatmahProgress'),
                memorizedNames: localStorage.getItem('memorizedNames')
            };
            
            // Triple save each item
            Object.keys(criticalData).forEach(key => {
                if (criticalData[key]) {
                    localStorage.setItem(key, criticalData[key]);
                    setTimeout(() => localStorage.setItem(key, criticalData[key]), 100);
                    setTimeout(() => localStorage.setItem(key, criticalData[key]), 200);
                }
            });
            
            console.log('Prayer Tracker:', localStorage.getItem('prayerTracker'));
            console.log('Khatmah:', localStorage.getItem('khatmahProgress'));
            console.log('Names:', localStorage.getItem('memorizedNames'));
            console.log('=== SAVE COMPLETE ===');
            
            showNotification('âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­!');
            
            setTimeout(() => {
                saveBtn.classList.remove('saving');
            }, 500);
        }

        // Auto-save function that runs continuously
        function autoSaveAll() {
            try {
                // Save current active tab
                const activeTab = document.querySelector('.tab-btn.active');
                if (activeTab) {
                    localStorage.setItem('lastActiveTab', activeTab.dataset.tab);
                }
                
                // Verify all critical data exists
                const criticalKeys = ['prayerTracker', 'khatmahProgress', 'memorizedNames'];
                criticalKeys.forEach(key => {
                    const data = localStorage.getItem(key);
                    if (data) {
                        // Re-save to ensure persistence
                        localStorage.setItem(key, data);
                    }
                });
                
                console.log('Auto-save completed');
            } catch (e) {
                console.error('Auto-save error:', e);
            }
        }

        // Achievements System
        const achievements = [
            {id: 'first_prayer', icon: 'ðŸŒ…', name: 'Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©', desc: 'Ø³Ø¬Ù‘Ù„ Ø£ÙˆÙ„ ØµÙ„Ø§Ø©', check: () => {
                const data = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
                return Object.keys(data).length > 0;
            }},
            {id: 'streak_3', icon: 'ðŸ”¥', name: 'Ø§Ù„Ù…Ù„ØªØ²Ù…', desc: '3 Ø£ÙŠØ§Ù… Ù…ØªÙˆØ§ØµÙ„Ø©', check: () => calculateStreak() >= 3},
            {id: 'streak_7', icon: 'â­', name: 'Ø§Ù„Ù…ÙˆØ§Ø¸Ø¨', desc: '7 Ø£ÙŠØ§Ù… Ù…ØªÙˆØ§ØµÙ„Ø©', check: () => calculateStreak() >= 7},
            {id: 'streak_30', icon: 'ðŸ’Ž', name: 'Ø§Ù„ØµØ§Ø¨Ø±', desc: '30 ÙŠÙˆÙ… Ù…ØªÙˆØ§ØµÙ„', check: () => calculateStreak() >= 30},
            {id: 'all_prayers_day', icon: 'ðŸŒŸ', name: 'Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ÙƒØ§Ù…Ù„', desc: 'Ø£ÙƒÙ…Ù„ 5 ØµÙ„ÙˆØ§Øª ÙÙŠ ÙŠÙˆÙ…', check: () => {
                const data = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
                return Object.values(data).some(day => Object.values(day).filter(v => v).length === 5);
            }},
            {id: 'quran_10', icon: 'ðŸ“–', name: 'Ø§Ù„Ù‚Ø§Ø±Ø¦', desc: 'Ø§Ù‚Ø±Ø£ 10 Ø³ÙˆØ±', check: () => {
                const data = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
                return Object.keys(data).length >= 10;
            }},
            {id: 'quran_50', icon: 'ðŸ“š', name: 'Ø§Ù„Ø­Ø§ÙØ¸', desc: 'Ø§Ù‚Ø±Ø£ 50 Ø³ÙˆØ±Ø©', check: () => {
                const data = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
                return Object.keys(data).length >= 50;
            }},
            {id: 'quran_complete', icon: 'ðŸŽ‰', name: 'Ø§Ù„Ø®ØªÙ…Ø©', desc: 'Ø§Ø®ØªÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† ÙƒØ§Ù…Ù„Ø§Ù‹', check: () => {
                const data = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
                return Object.keys(data).length === 114;
            }},
            {id: 'names_10', icon: 'âœ¨', name: 'Ø§Ù„Ù…ØªØ¹Ù„Ù…', desc: 'Ø§Ø­ÙØ¸ 10 Ø£Ø³Ù…Ø§Ø¡', check: () => {
                const data = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
                return Object.keys(data).length >= 10;
            }},
            {id: 'names_50', icon: 'ðŸŒ™', name: 'Ø§Ù„Ø¹Ø§Ø±Ù', desc: 'Ø§Ø­ÙØ¸ 50 Ø§Ø³Ù…Ø§Ù‹', check: () => {
                const data = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
                return Object.keys(data).length >= 50;
            }},
            {id: 'names_99', icon: 'ðŸ‘‘', name: 'Ø§Ù„Ø­Ø§ÙØ¸ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡', desc: 'Ø§Ø­ÙØ¸ 99 Ø§Ø³Ù…Ø§Ù‹', check: () => {
                const data = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
                return Object.keys(data).length === 99;
            }},
            {id: 'taqwa_50', icon: 'ðŸ’š', name: 'Ø§Ù„Ù…Ø¨ØªØ¯Ø¦', desc: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 50 Ù†Ù‚Ø·Ø© ØªÙ‚ÙˆÙ‰', check: () => calculateTaqwaScore() >= 50},
            {id: 'taqwa_80', icon: 'ðŸ’™', name: 'Ø§Ù„Ù…Ø¬ØªÙ‡Ø¯', desc: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 80 Ù†Ù‚Ø·Ø©', check: () => calculateTaqwaScore() >= 80},
            {id: 'taqwa_100', icon: 'ðŸ’›', name: 'Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ', desc: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 100 Ù†Ù‚Ø·Ø©', check: () => calculateTaqwaScore() === 100},
            {id: 'week_complete', icon: 'ðŸ“…', name: 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„ÙƒØ§Ù…Ù„', desc: 'Ø£ÙƒÙ…Ù„ Ø£Ø³Ø¨ÙˆØ¹ Ø¨Ø¯ÙˆÙ† ØªÙÙˆÙŠØª', check: () => checkWeekComplete()},
            {id: 'early_bird', icon: 'ðŸ¦', name: 'Ø§Ù„Ù…Ø¨ÙƒØ±', desc: 'ØµÙ„Ù‘ Ø§Ù„ÙØ¬Ø± 7 Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©', check: () => checkFajrStreak() >= 7},
            {id: 'share_stats', icon: 'ðŸ“¤', name: 'Ø§Ù„Ù…Ù„Ù‡Ù…', desc: 'Ø´Ø§Ø±Ùƒ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ', check: () => localStorage.getItem('hasShared') === 'true'},
            {id: 'use_30_days', icon: 'ðŸ…', name: 'Ø§Ù„Ù…Ø®Ù„Øµ', desc: 'Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ 30 ÙŠÙˆÙ…', check: () => calculateDaysActive() >= 30},
            {id: 'night_prayer', icon: 'ðŸŒƒ', name: 'Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„', desc: 'ØµÙ„Ù‘ Ø§Ù„Ø¹Ø´Ø§Ø¡ 10 Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©', check: () => checkIshaStreak() >= 10},
            {id: 'master', icon: 'ðŸ†', name: 'Ø§Ù„Ø³ÙŠØ¯', desc: 'Ø§ÙØªØ­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª', check: () => {
                const unlocked = JSON.parse(localStorage.getItem('unlockedAchievements') || '[]');
                return unlocked.length >= 19;
            }}
        ];

        function calculateStreak() {
            const data = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            const dates = Object.keys(data).sort().reverse();
            let streak = 0;
            
            for (let i = 0; i < dates.length; i++) {
                const dayData = data[dates[i]];
                const completed = Object.values(dayData).filter(v => v).length;
                if (completed === 5) {
                    streak++;
                } else if (i > 0) {
                    break;
                }
            }
            return streak;
        }

        function calculateTaqwaScore() {
            const today = new Date().toDateString();
            const trackerData = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            const todayData = trackerData[today] || {};
            const khatmahData = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
            const memorizedNames = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
            
            let score = 0;
            score += Object.values(todayData).filter(v => v).length * 10;
            score += Math.min(30, Math.floor(Object.keys(khatmahData).length / 114 * 30));
            score += Math.min(20, Math.floor(Object.keys(memorizedNames).length / 99 * 20));
            
            return score;
        }

        function checkWeekComplete() {
            const data = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            const dates = Object.keys(data).sort().reverse();
            if (dates.length < 7) return false;
            
            for (let i = 0; i < 7; i++) {
                const dayData = data[dates[i]];
                const completed = Object.values(dayData).filter(v => v).length;
                if (completed < 5) return false;
            }
            return true;
        }

        function checkFajrStreak() {
            const data = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            const dates = Object.keys(data).sort().reverse();
            let streak = 0;
            
            for (let date of dates) {
                if (data[date].fajr) {
                    streak++;
                } else {
                    break;
                }
            }
            return streak;
        }

        function checkIshaStreak() {
            const data = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            const dates = Object.keys(data).sort().reverse();
            let streak = 0;
            
            for (let date of dates) {
                if (data[date].isha) {
                    streak++;
                } else {
                    break;
                }
            }
            return streak;
        }

        function calculateDaysActive() {
            const data = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            return Object.keys(data).length;
        }

        function updateAchievements() {
            let unlockedAchievements = JSON.parse(localStorage.getItem('unlockedAchievements') || '[]');
            const grid = document.getElementById('achievements-grid');
            if (!grid) return;
            
            grid.innerHTML = '';
            let newlyUnlocked = [];
            
            achievements.forEach(achievement => {
                const isUnlocked = achievement.check();
                const wasUnlocked = unlockedAchievements.includes(achievement.id);
                
                if (isUnlocked && !wasUnlocked) {
                    unlockedAchievements.push(achievement.id);
                    newlyUnlocked.push(achievement);
                }
                
                const card = document.createElement('div');
                card.className = `achievement-card ${isUnlocked ? 'unlocked' : 'locked'}`;
                
                card.innerHTML = `
                    ${isUnlocked ? '<div class="achievement-badge">âœ“</div>' : '<div class="achievement-locked-icon">ðŸ”’</div>'}
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-desc">${achievement.desc}</div>
                `;
                
                grid.appendChild(card);
            });
            
            localStorage.setItem('unlockedAchievements', JSON.stringify(unlockedAchievements));
            
            // Update counts
            document.getElementById('unlocked-count').textContent = unlockedAchievements.length;
            const percentage = Math.round((unlockedAchievements.length / achievements.length) * 100);
            document.getElementById('achievement-percentage').textContent = percentage + '%';
            
            // Update progress ring
            const circumference = 339.292;
            const offset = circumference - (percentage / 100) * circumference;
            const circle = document.getElementById('progress-circle');
            if (circle) {
                circle.style.strokeDashoffset = offset;
            }
            
            // Show notifications for new achievements
            newlyUnlocked.forEach(achievement => {
                setTimeout(() => {
                    showNotification(`ðŸ† Ø¥Ù†Ø¬Ø§Ø² Ø¬Ø¯ÙŠØ¯: ${achievement.name} - ${achievement.desc}`);
                    if (navigator.vibrate) {
                        navigator.vibrate([200, 100, 200, 100, 200]);
                    }
                }, 500);
            });
        }

        function updateStatistics() {
            // Calculate streak
            const streak = calculateStreak();
            document.getElementById('total-streak').textContent = streak;
            
            // Calculate total points
            const allTaqwaScores = JSON.parse(localStorage.getItem('allTaqwaScores') || '[]');
            const totalPoints = allTaqwaScores.reduce((a, b) => a + b, 0);
            document.getElementById('total-points').textContent = totalPoints;
            
            // Total prayers
            const trackerData = JSON.parse(localStorage.getItem('prayerTracker') || '{}');
            let totalPrayers = 0;
            let totalDays = Object.keys(trackerData).length;
            
            Object.values(trackerData).forEach(day => {
                totalPrayers += Object.values(day).filter(v => v).length;
            });
            
            document.getElementById('total-prayers').textContent = totalPrayers;
            document.getElementById('prayer-percentage').textContent = 
                totalDays > 0 ? Math.round((totalPrayers / (totalDays * 5)) * 100) + '%' : '0%';
            
            // Quran progress
            const khatmahData = JSON.parse(localStorage.getItem('khatmahProgress') || '{}');
            document.getElementById('total-surahs').textContent = Object.keys(khatmahData).length + '/114';
            
            // Names progress
            const memorizedNames = JSON.parse(localStorage.getItem('memorizedNames') || '{}');
            document.getElementById('total-names-stat').textContent = Object.keys(memorizedNames).length + '/99';
            
            // Days active
            document.getElementById('days-active').textContent = totalDays;
            
            // Best day
            const dayNames = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
            let dayScores = [0, 0, 0, 0, 0, 0, 0];
            
            Object.keys(trackerData).forEach(dateStr => {
                const date = new Date(dateStr);
                const dayIndex = date.getDay();
                const completed = Object.values(trackerData[dateStr]).filter(v => v).length;
                dayScores[dayIndex] += completed;
            });
            
            const bestDayIndex = dayScores.indexOf(Math.max(...dayScores));
            document.getElementById('best-day').textContent = dayNames[bestDayIndex] || '-';
        }

        // Save every 1 second for maximum safety
        setInterval(autoSaveAll, 1000);

        // Also save on visibility change (when switching apps/tabs)
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                autoSaveAll();
            }
        });

        // Save on any interaction
        document.addEventListener('click', () => {
            setTimeout(autoSaveAll, 100);
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('quran-modal');
            if (event.target === modal) {
                closeQuranModal();
            }
            
            const helpModal = document.getElementById('help-modal');
            if (event.target === helpModal) {
                closeHelpModal();
            }
        }
    </script>
</body>
</html>
